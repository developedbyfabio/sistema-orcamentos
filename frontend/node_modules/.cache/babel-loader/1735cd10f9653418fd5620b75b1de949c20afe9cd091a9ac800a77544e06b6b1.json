{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import{AuthProvider,useAuth}from'./contexts/AuthContext';import{ThemeProvider}from'./contexts/ThemeContext';import Login from'./pages/Login';import Dashboard from'./pages/Dashboard';import Orcamentos from'./pages/Orcamentos';import OrcamentoDetalhes from'./pages/OrcamentoDetalhes';import NovoOrcamento from'./pages/NovoOrcamento';import EditarOrcamento from'./pages/EditarOrcamento';import Admin from'./pages/Admin';import Layout from'./components/Layout';import Pendentes from'./pages/Pendentes';import AguardandoCompra from'./pages/AguardandoCompra';import DarBaixa from'./pages/DarBaixa';// Componente para rotas protegidas\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}return isAuthenticated?/*#__PURE__*/_jsx(_Fragment,{children:children}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};// Componente para rotas de admin\nconst AdminRoute=_ref2=>{let{children}=_ref2;const{isAuthenticated,user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(!(user!==null&&user!==void 0&&user.admin)){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};function App(){return/*#__PURE__*/_jsx(ThemeProvider,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff',zIndex:9999},success:{duration:3000,iconTheme:{primary:'#22c55e',secondary:'#fff'}},error:{duration:5000,iconTheme:{primary:'#ef4444',secondary:'#fff'}}}}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Dashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/pendentes\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Pendentes,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/aguardando-compra\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(AguardandoCompra,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/dar-baixa\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(DarBaixa,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/orcamentos\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Orcamentos,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/orcamentos/novo\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(NovoOrcamento,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/orcamentos/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(OrcamentoDetalhes,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/orcamentos/:id/editar\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(EditarOrcamento,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Admin,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-4\",children:\"404\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"P\\xE1gina n\\xE3o encontrada\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),className:\"btn btn-primary\",children:\"Voltar\"})]})})})]})]})})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Toaster","AuthProvider","useAuth","ThemeProvider","Login","Dashboard","Orcamentos","OrcamentoDetalhes","NovoOrcamento","EditarOrcamento","Admin","Layout","Pendentes","AguardandoCompra","DarBaixa","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","loading","className","to","replace","AdminRoute","_ref2","user","admin","App","position","toastOptions","duration","style","background","color","zIndex","success","iconTheme","primary","secondary","error","path","element","onClick","window","history","back"],"sources":["/var/www/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\nimport Orcamentos from './pages/Orcamentos';\nimport OrcamentoDetalhes from './pages/OrcamentoDetalhes';\nimport NovoOrcamento from './pages/NovoOrcamento';\nimport EditarOrcamento from './pages/EditarOrcamento';\nimport Admin from './pages/Admin';\nimport Layout from './components/Layout';\nimport Pendentes from './pages/Pendentes';\nimport AguardandoCompra from './pages/AguardandoCompra';\nimport DarBaixa from './pages/DarBaixa';\n\n// Componente para rotas protegidas\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { isAuthenticated, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return isAuthenticated ? <>{children}</> : <Navigate to=\"/login\" replace />;\n};\n\n// Componente para rotas de admin\nconst AdminRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { isAuthenticated, user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  if (!user?.admin) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n\n  return <>{children}</>;\n};\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <AuthProvider>\n        <Router>\n          <div className=\"App\">\n            <Toaster\n              position=\"top-center\"\n              toastOptions={{\n                duration: 4000,\n                style: {\n                  background: '#363636',\n                  color: '#fff',\n                  zIndex: 9999,\n                },\n                success: {\n                  duration: 3000,\n                  iconTheme: {\n                    primary: '#22c55e',\n                    secondary: '#fff',\n                  },\n                },\n                error: {\n                  duration: 5000,\n                  iconTheme: {\n                    primary: '#ef4444',\n                    secondary: '#fff',\n                  },\n                },\n              }}\n            />\n            \n            <Routes>\n              {/* Rota pública */}\n              <Route path=\"/login\" element={<Login />} />\n              \n              {/* Rotas protegidas */}\n              <Route\n                path=\"/dashboard\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <Dashboard />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/pendentes\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <Pendentes />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/aguardando-compra\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <AguardandoCompra />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/dar-baixa\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <DarBaixa />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/orcamentos\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <Orcamentos />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/orcamentos/novo\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <NovoOrcamento />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/orcamentos/:id\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <OrcamentoDetalhes />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              <Route\n                path=\"/orcamentos/:id/editar\"\n                element={\n                  <ProtectedRoute>\n                    <Layout>\n                      <EditarOrcamento />\n                    </Layout>\n                  </ProtectedRoute>\n                }\n              />\n              \n              {/* Rotas de admin */}\n              <Route\n                path=\"/admin\"\n                element={\n                  <AdminRoute>\n                    <Layout>\n                      <Admin />\n                    </Layout>\n                  </AdminRoute>\n                }\n              />\n              \n              {/* Rota padrão */}\n              <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n              \n              {/* Rota 404 */}\n              <Route\n                path=\"*\"\n                element={\n                  <div className=\"min-h-screen flex items-center justify-center\">\n                    <div className=\"text-center\">\n                      <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">404</h1>\n                      <p className=\"text-gray-600 mb-4\">Página não encontrada</p>\n                      <button\n                        onClick={() => window.history.back()}\n                        className=\"btn btn-primary\"\n                      >\n                        Voltar\n                      </button>\n                    </div>\n                  </div>\n                }\n              />\n            </Routes>\n          </div>\n        </Router>\n      </AuthProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}