{"ast":null,"code":"import _objectSpread from\"/var/www/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{UsersIcon,BuildingOfficeIcon,ChartBarIcon,PlusIcon,PencilIcon,TrashIcon,EyeIcon,CheckCircleIcon,XCircleIcon,XMarkIcon,ArrowPathIcon}from'@heroicons/react/24/outline';import{useAuth}from'../contexts/AuthContext';// Modal reutilizável para cadastro/edição de usuário\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserModal=_ref=>{let{open,onClose,onSave,initialData,niveis}=_ref;const[form,setForm]=useState({nome:'',email:'',senha:'',cargo:'',setor:'',admin:false,ativo:true,niveis:[]});useEffect(()=>{if(initialData){var _initialData$ativo;setForm({nome:initialData.nome||'',email:initialData.email||'',senha:'',cargo:initialData.cargo||'',setor:initialData.setor||'',admin:initialData.admin||false,ativo:(_initialData$ativo=initialData.ativo)!==null&&_initialData$ativo!==void 0?_initialData$ativo:true,niveis:initialData.usuarioNiveis?initialData.usuarioNiveis.map(n=>n.nivel.id):[]});}else{setForm({nome:'',email:'',senha:'',cargo:'',setor:'',admin:false,ativo:true,niveis:[]});}},[initialData,open]);const handleChange=e=>{const{name,value,type,checked}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};const handleNivelChange=nivelId=>{setForm(prev=>{const niveis=prev.niveis.includes(nivelId)?prev.niveis.filter(id=>id!==nivelId):[...prev.niveis,nivelId];return _objectSpread(_objectSpread({},prev),{},{niveis});});};const handleSubmit=e=>{e.preventDefault();onSave(form);};if(!open)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-2 right-2 text-gray-400 hover:text-gray-700\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\xD7\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:initialData?'Editar Usuário':'Novo Usuário'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"nome\",value:form.nome,onChange:handleChange,placeholder:\"Nome\",className:\"w-full border rounded p-2\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:form.email,onChange:handleChange,placeholder:\"Email\",className:\"w-full border rounded p-2\",type:\"email\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"senha\",value:form.senha,onChange:handleChange,placeholder:\"Senha\",className:\"w-full border rounded p-2\",type:\"password\",autoComplete:\"new-password\",required:!initialData}),/*#__PURE__*/_jsx(\"input\",{name:\"cargo\",value:form.cargo,onChange:handleChange,placeholder:\"Cargo\",className:\"w-full border rounded p-2\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"setor\",value:form.setor,onChange:handleChange,placeholder:\"Setor\",className:\"w-full border rounded p-2\",required:true}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"admin\",type:\"checkbox\",checked:form.admin,onChange:handleChange}),\"Administrador\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"ativo\",type:\"checkbox\",checked:form.ativo,onChange:handleChange}),\"Ativo\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-1\",children:\"N\\xEDveis de aprova\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:niveis.map(nivel=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1 text-xs border rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:form.niveis.includes(nivel.id),onChange:()=>handleNivelChange(nivel.id)}),nivel.nome]},nivel.id))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white rounded p-2 hover:bg-blue-700\",children:\"Salvar\"})]})]})});};const NivelModal=_ref2=>{let{open,onClose,onSave,initialData}=_ref2;const[form,setForm]=useState({nome:'',prioridade:1,podeCriarOrcamento:true,podeAprovar:false,nivelFinal:false,ativo:true});useEffect(()=>{if(initialData){var _initialData$podeCria,_initialData$podeApro,_initialData$nivelFin,_initialData$ativo2;setForm({nome:initialData.nome||'',prioridade:initialData.prioridade||1,podeCriarOrcamento:(_initialData$podeCria=initialData.podeCriarOrcamento)!==null&&_initialData$podeCria!==void 0?_initialData$podeCria:true,podeAprovar:(_initialData$podeApro=initialData.podeAprovar)!==null&&_initialData$podeApro!==void 0?_initialData$podeApro:false,nivelFinal:(_initialData$nivelFin=initialData.nivelFinal)!==null&&_initialData$nivelFin!==void 0?_initialData$nivelFin:false,ativo:(_initialData$ativo2=initialData.ativo)!==null&&_initialData$ativo2!==void 0?_initialData$ativo2:true});}else{setForm({nome:'',prioridade:1,podeCriarOrcamento:true,podeAprovar:false,nivelFinal:false,ativo:true});}},[initialData,open]);const handleChange=e=>{const{name,value,type,checked}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:type==='number'?parseInt(value):value}));};const handleSubmit=e=>{e.preventDefault();onSave(form);};if(!open)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-4\",children:initialData?'Editar Nível':'Novo Nível'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nome\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nome\",value:form.nome,onChange:handleChange,className:\"w-full border border-gray-300 rounded px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Prioridade\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"prioridade\",value:form.prioridade,onChange:handleChange,min:\"1\",className:\"w-full border border-gray-300 rounded px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"podeCriarOrcamento\",checked:form.podeCriarOrcamento,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Pode criar or\\xE7amentos\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"podeAprovar\",checked:form.podeAprovar,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Pode aprovar or\\xE7amentos\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"nivelFinal\",checked:form.nivelFinal,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"N\\xEDvel final de aprova\\xE7\\xE3o\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"ativo\",checked:form.ativo,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Ativo\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Salvar\"})]})]})]})});};const FilialModal=_ref3=>{let{open,onClose,onSave,initialData}=_ref3;const[form,setForm]=useState({nome:'',endereco:'',telefone:'',ativo:true});useEffect(()=>{if(initialData){var _initialData$ativo3;setForm({nome:initialData.nome||'',endereco:initialData.endereco||'',telefone:initialData.telefone||'',ativo:(_initialData$ativo3=initialData.ativo)!==null&&_initialData$ativo3!==void 0?_initialData$ativo3:true});}else{setForm({nome:'',endereco:'',telefone:'',ativo:true});}},[initialData,open]);const handleChange=e=>{const{name,value,type,checked}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};const handleSubmit=e=>{e.preventDefault();onSave(form);};if(!open)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-4\",children:initialData?'Editar Filial':'Nova Filial'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nome da Filial\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nome\",value:form.nome,onChange:handleChange,className:\"w-full border border-gray-300 rounded px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"endereco\",value:form.endereco,onChange:handleChange,className:\"w-full border border-gray-300 rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Telefone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"telefone\",value:form.telefone,onChange:handleChange,className:\"w-full border border-gray-300 rounded px-3 py-2\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"ativo\",checked:form.ativo,onChange:handleChange,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Ativa\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Salvar\"})]})]})]})});};const Admin=()=>{const{user}=useAuth();const[activeTab,setActiveTab]=useState('dashboard');const[loading,setLoading]=useState(true);const[usuarios,setUsuarios]=useState([]);const[niveis,setNiveis]=useState([]);const[filiais,setFiliais]=useState([]);const[stats,setStats]=useState({totalUsuarios:0,usuariosAtivos:0,totalNiveis:0,niveisAtivos:0,totalFiliais:0,filiaisAtivas:0});const[fluxoModal,setFluxoModal]=useState(false);const[selectedUser,setSelectedUser]=useState(null);const[userFluxo,setUserFluxo]=useState([]);const[availableNiveis,setAvailableNiveis]=useState([]);const[userModalOpen,setUserModalOpen]=useState(false);const[editingUser,setEditingUser]=useState(null);const[nivelModalOpen,setNivelModalOpen]=useState(false);const[editingNivel,setEditingNivel]=useState(null);const[filialModalOpen,setFilialModalOpen]=useState(false);const[editingFilial,setEditingFilial]=useState(null);const[viewingFilial,setViewingFilial]=useState(null);const fetchData=async()=>{try{const token=localStorage.getItem('token');// Buscar dados em paralelo\nconst[usuariosRes,niveisRes,filiaisRes]=await Promise.all([fetch('http://localhost:5000/api/users',{headers:{'Authorization':\"Bearer \".concat(token)}}),fetch('http://localhost:5000/api/niveis',{headers:{'Authorization':\"Bearer \".concat(token)}}),fetch('http://localhost:5000/api/filiais',{headers:{'Authorization':\"Bearer \".concat(token)}})]);if(usuariosRes.ok){const usuariosData=await usuariosRes.json();setUsuarios(usuariosData);}if(niveisRes.ok){const niveisData=await niveisRes.json();setNiveis(niveisData);}if(filiaisRes.ok){const filiaisData=await filiaisRes.json();setFiliais(filiaisData);}// Calcular estatísticas\nsetStats({totalUsuarios:usuarios.length,usuariosAtivos:usuarios.filter(u=>u.ativo).length,totalNiveis:niveis.length,niveisAtivos:niveis.filter(n=>n.ativo).length,totalFiliais:filiais.length,filiaisAtivas:filiais.filter(f=>f.ativo).length});}catch(error){console.error('Erro ao carregar dados:',error);}finally{setLoading(false);}};useEffect(()=>{fetchData();},[]);const handleToggleStatus=async(type,id,currentStatus)=>{try{const token=localStorage.getItem('token');const endpoint=type==='usuario'?'users':type==='nivel'?'niveis':'filiais';const response=await fetch(\"http://localhost:5000/api/\".concat(endpoint,\"/\").concat(id),{method:'PATCH',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({ativo:!currentStatus})});if(response.ok){fetchData();// Recarregar dados\n}}catch(error){console.error(\"Erro ao alterar status do \".concat(type,\":\"),error);}};const handleDelete=async(type,id)=>{if(!window.confirm(\"Tem certeza que deseja excluir este \".concat(type,\"?\"))){return;}try{const token=localStorage.getItem('token');const endpoint=type==='usuario'?'users':type==='nivel'?'niveis':'filiais';const response=await fetch(\"http://localhost:5000/api/\".concat(endpoint,\"/\").concat(id),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){fetchData();// Recarregar dados\n}}catch(error){console.error(\"Erro ao excluir \".concat(type,\":\"),error);}};// Carregar fluxo de um usuário\nconst loadUserFluxo=async userId=>{try{const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:5000/api/users/\".concat(userId,\"/fluxo\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const fluxo=await response.json();setUserFluxo(fluxo);}else{setUserFluxo([]);}}catch(error){console.error('Erro ao carregar fluxo:',error);setUserFluxo([]);}};// Salvar fluxo de um usuário\nconst saveUserFluxo=async()=>{if(!selectedUser)return;try{const token=localStorage.getItem('token');const niveis=userFluxo.map(item=>item.nivelId||item.nivel.id);const response=await fetch(\"http://localhost:5000/api/users/\".concat(selectedUser.id,\"/fluxo\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({niveis})});if(response.ok){const fluxo=await response.json();setUserFluxo(fluxo);alert('Fluxo salvo com sucesso!');}else{const error=await response.json();alert(\"Erro ao salvar fluxo: \".concat(error.error));}}catch(error){console.error('Erro ao salvar fluxo:',error);alert('Erro ao salvar fluxo');}};// Remover fluxo de um usuário\nconst removeUserFluxo=async()=>{if(!selectedUser)return;if(!window.confirm('Tem certeza que deseja remover o fluxo personalizado deste usuário?')){return;}try{const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:5000/api/users/\".concat(selectedUser.id,\"/fluxo\"),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){setUserFluxo([]);alert('Fluxo removido com sucesso!');}else{const error=await response.json();alert(\"Erro ao remover fluxo: \".concat(error.error));}}catch(error){console.error('Erro ao remover fluxo:',error);alert('Erro ao remover fluxo');}};// Adicionar nível ao fluxo\nconst addNivelToFluxo=nivel=>{const novoItem={id:Date.now(),// ID temporário\nnivelId:nivel.id,nivel:nivel,ordem:userFluxo.length+1,ativo:true};setUserFluxo([...userFluxo,novoItem]);};// Remover nível do fluxo\nconst removeNivelFromFluxo=index=>{setUserFluxo(userFluxo.filter((_,i)=>i!==index));};// Mover nível no fluxo\nconst moveNivelInFluxo=(fromIndex,toIndex)=>{const newFluxo=[...userFluxo];const[removed]=newFluxo.splice(fromIndex,1);newFluxo.splice(toIndex,0,removed);setUserFluxo(newFluxo);};// Abrir modal de fluxo\nconst openFluxoModal=async user=>{console.log('Abrindo modal de fluxo para usuário:',user);setSelectedUser(user);setFluxoModal(true);await loadUserFluxo(user.id);};// Função para criar usuário\nconst handleCreateUser=async form=>{try{const token=localStorage.getItem('token');const res=await fetch('http://localhost:5000/api/users',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(form)});if(res.ok){setUserModalOpen(false);setEditingUser(null);fetchData();alert('Usuário criado com sucesso!');}else{const error=await res.json();alert(error.error||'Erro ao criar usuário');}}catch(err){alert('Erro ao criar usuário');}};// Função para editar usuário\nconst handleUpdateUser=async form=>{if(!editingUser)return;try{const token=localStorage.getItem('token');const res=await fetch(\"http://localhost:5000/api/users/\".concat(editingUser.id),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(form)});if(res.ok){setUserModalOpen(false);setEditingUser(null);fetchData();alert('Usuário atualizado com sucesso!');}else{const error=await res.json();alert(error.error||'Erro ao atualizar usuário');}}catch(err){alert('Erro ao atualizar usuário');}};// Substituir handleEditUser\nconst handleEditUser=user=>{setEditingUser(user);setUserModalOpen(true);};const handleCreateNivel=async form=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/niveis',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(form)});if(response.ok){setNivelModalOpen(false);setEditingNivel(null);fetchData();alert('Nível criado com sucesso!');}else{const error=await response.json();alert(\"Erro ao criar n\\xEDvel: \".concat(error.error));}}catch(error){console.error('Erro ao criar nível:',error);alert('Erro ao criar nível');}};const handleUpdateNivel=async form=>{if(!editingNivel)return;try{const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:5000/api/niveis/\".concat(editingNivel.id),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(form)});if(response.ok){setNivelModalOpen(false);setEditingNivel(null);fetchData();alert('Nível atualizado com sucesso!');}else{const error=await response.json();alert(\"Erro ao atualizar n\\xEDvel: \".concat(error.error));}}catch(error){console.error('Erro ao atualizar nível:',error);alert('Erro ao atualizar nível');}};const handleEditNivel=nivel=>{setEditingNivel(nivel);setNivelModalOpen(true);};const handleCreateFilial=async form=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/filiais',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(form)});if(response.ok){setFilialModalOpen(false);setEditingFilial(null);fetchData();alert('Filial criada com sucesso!');}else{const error=await response.json();alert(\"Erro ao criar filial: \".concat(error.error));}}catch(error){console.error('Erro ao criar filial:',error);alert('Erro ao criar filial');}};const handleUpdateFilial=async form=>{if(!editingFilial)return;try{const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:5000/api/filiais/\".concat(editingFilial.id),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(form)});if(response.ok){setFilialModalOpen(false);setEditingFilial(null);fetchData();alert('Filial atualizada com sucesso!');}else{const error=await response.json();alert(\"Erro ao atualizar filial: \".concat(error.error));}}catch(error){console.error('Erro ao atualizar filial:',error);alert('Erro ao atualizar filial');}};const handleEditFilial=filial=>{setEditingFilial(filial);setFilialModalOpen(true);};const handleViewFilial=filial=>{setViewingFilial(filial);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Administra\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Gerencie usu\\xE1rios, n\\xEDveis de aprova\\xE7\\xE3o e filiais do sistema.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8 px-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('dashboard'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='dashboard'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-5 w-5 inline mr-2\"}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('usuarios'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='usuarios'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"h-5 w-5 inline mr-2\"}),\"Usu\\xE1rios\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('niveis'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='niveis'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-5 w-5 inline mr-2\"}),\"N\\xEDveis\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('filiais'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='filiais'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"h-5 w-5 inline mr-2\"}),\"Filiais\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='dashboard'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"h-8 w-8 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-600\",children:\"Usu\\xE1rios\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-900\",children:stats.totalUsuarios}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600\",children:[stats.usuariosAtivos,\" ativos\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-8 w-8 text-green-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-600\",children:\"N\\xEDveis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-900\",children:stats.totalNiveis}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-600\",children:[stats.niveisAtivos,\" ativos\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"h-8 w-8 text-purple-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-purple-600\",children:\"Filiais\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-900\",children:stats.totalFiliais}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-purple-600\",children:[stats.filiaisAtivas,\" ativas\"]})]})]})})]})}),activeTab==='usuarios'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Usu\\xE1rios do Sistema\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",onClick:()=>{setEditingUser(null);setUserModalOpen(true);},children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Novo Usu\\xE1rio\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cargo/Setor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:usuarios.map(usuario=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:usuario.nome}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:usuario.email})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:usuario.cargo}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:usuario.setor})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(usuario.ativo?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:[usuario.ativo?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}):/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4 mr-1\"}),usuario.ativo?'Ativo':'Inativo']})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(usuario.admin?'bg-purple-100 text-purple-800':'bg-gray-100 text-gray-800'),children:usuario.admin?'Sim':'Não'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditUser(usuario),className:\"text-blue-600 hover:text-blue-900\",title:\"Editar usu\\xE1rio\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openFluxoModal(usuario),className:\"inline-flex items-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200\",title:\"Configurar fluxo de aprova\\xE7\\xE3o\",children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-3 w-3 mr-1\"}),\"Fluxo\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStatus('usuario',usuario.id,usuario.ativo),className:\"text-yellow-600 hover:text-yellow-900\",title:usuario.ativo?'Desativar usuário':'Ativar usuário',children:usuario.ativo?/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete('usuario',usuario.id),className:\"text-red-600 hover:text-red-900\",title:\"Excluir usu\\xE1rio\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},usuario.id))})]})})]}),activeTab==='niveis'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"N\\xEDveis de Aprova\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setNivelModalOpen(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Novo N\\xEDvel\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"N\\xEDvel\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Prioridade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Permiss\\xF5es\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:niveis.map(nivel=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:nivel.nome})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:nivel.prioridade})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded text-xs \".concat(nivel.podeCriarOrcamento?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:nivel.podeCriarOrcamento?'Criar':'Não Criar'}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded text-xs \".concat(nivel.podeAprovar?'bg-blue-100 text-blue-800':'bg-gray-100 text-gray-800'),children:nivel.podeAprovar?'Aprovar':'Não Aprovar'}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded text-xs \".concat(nivel.nivelFinal?'bg-purple-100 text-purple-800':'bg-gray-100 text-gray-800'),children:nivel.nivelFinal?'Final':'Não Final'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(nivel.ativo?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:[nivel.ativo?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}):/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4 mr-1\"}),nivel.ativo?'Ativo':'Inativo']})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditNivel(nivel),className:\"text-green-600 hover:text-green-900\",title:\"Editar n\\xEDvel\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStatus('nivel',nivel.id,nivel.ativo),className:\"text-yellow-600 hover:text-yellow-900\",title:nivel.ativo?'Inativar nível':'Ativar nível',children:nivel.ativo?/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete('nivel',nivel.id),className:\"text-red-600 hover:text-red-900\",title:\"Excluir n\\xEDvel\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},nivel.id))})]})})]}),activeTab==='filiais'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Filiais\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilialModalOpen(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Nova Filial\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Filial\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Contato\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filiais.map(filial=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:filial.nome}),filial.endereco&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:filial.endereco})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:filial.telefone||'N/A'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(filial.ativo?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:[filial.ativo?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}):/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4 mr-1\"}),filial.ativo?'Ativa':'Inativa']})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewFilial(filial),className:\"text-blue-600 hover:text-blue-900\",title:\"Visualizar filial\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditFilial(filial),className:\"text-green-600 hover:text-green-900\",title:\"Editar filial\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStatus('filial',filial.id,filial.ativo),className:\"text-yellow-600 hover:text-yellow-900\",title:filial.ativo?'Inativar filial':'Ativar filial',children:filial.ativo?/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete('filial',filial.id),className:\"text-red-600 hover:text-red-900\",title:\"Excluir filial\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},filial.id))})]})})]})]})]}),fluxoModal&&selectedUser&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold\",children:[\"Fluxo de Aprova\\xE7\\xE3o - \",selectedUser.nome]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFluxoModal(false),className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Configure a ordem de aprova\\xE7\\xE3o para este usu\\xE1rio. Os or\\xE7amentos seguir\\xE3o esta sequ\\xEAncia.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"Fluxo Atual:\"}),userFluxo.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic\",children:\"Nenhum fluxo personalizado configurado (usar\\xE1 fluxo padr\\xE3o)\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:userFluxo.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-gray-50 p-3 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-500 text-white px-2 py-1 rounded text-sm\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:item.nivel.nome})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[index>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveNivelInFluxo(index,index-1),className:\"text-blue-600 hover:text-blue-800\",children:\"\\u2191\"}),index<userFluxo.length-1&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveNivelInFluxo(index,index+1),className:\"text-blue-600 hover:text-blue-800\",children:\"\\u2193\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeNivelFromFluxo(index),className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4\"})})]})]},item.id||index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"Adicionar N\\xEDvel:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-2\",children:niveis.filter(nivel=>!userFluxo.some(item=>{var _item$nivel;return item.nivelId===nivel.id||((_item$nivel=item.nivel)===null||_item$nivel===void 0?void 0:_item$nivel.id)===nivel.id;})).map(nivel=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addNivelToFluxo(nivel),className:\"text-left p-2 border rounded hover:bg-gray-50\",children:nivel.nome},nivel.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:removeUserFluxo,className:\"px-4 py-2 text-red-600 border border-red-600 rounded hover:bg-red-50\",children:\"Remover Fluxo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveUserFluxo,className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Salvar Fluxo\"})]})]})}),/*#__PURE__*/_jsx(UserModal,{open:userModalOpen,onClose:()=>{setUserModalOpen(false);setEditingUser(null);},onSave:editingUser?handleUpdateUser:handleCreateUser,initialData:editingUser,niveis:niveis}),/*#__PURE__*/_jsx(NivelModal,{open:nivelModalOpen,onClose:()=>{setNivelModalOpen(false);setEditingNivel(null);},onSave:editingNivel?handleUpdateNivel:handleCreateNivel,initialData:editingNivel}),/*#__PURE__*/_jsx(FilialModal,{open:filialModalOpen,onClose:()=>{setFilialModalOpen(false);setEditingFilial(null);},onSave:editingFilial?handleUpdateFilial:handleCreateFilial,initialData:editingFilial}),viewingFilial&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium\",children:\"Detalhes da Filial\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewingFilial(null),className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nome da Filial\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:viewingFilial.nome})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:viewingFilial.endereco||'Não informado'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Telefone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:viewingFilial.telefone||'Não informado'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(viewingFilial.ativo?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:[viewingFilial.ativo?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-1\"}):/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4 mr-1\"}),viewingFilial.ativo?'Ativa':'Inativa']})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewingFilial(null),className:\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",children:\"Fechar\"})})]})})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","UsersIcon","BuildingOfficeIcon","ChartBarIcon","PlusIcon","PencilIcon","TrashIcon","EyeIcon","CheckCircleIcon","XCircleIcon","XMarkIcon","ArrowPathIcon","useAuth","jsx","_jsx","jsxs","_jsxs","UserModal","_ref","open","onClose","onSave","initialData","niveis","form","setForm","nome","email","senha","cargo","setor","admin","ativo","_initialData$ativo","usuarioNiveis","map","n","nivel","id","handleChange","e","name","value","type","checked","target","prev","_objectSpread","handleNivelChange","nivelId","includes","filter","handleSubmit","preventDefault","className","children","onClick","onSubmit","onChange","placeholder","required","autoComplete","NivelModal","_ref2","prioridade","podeCriarOrcamento","podeAprovar","nivelFinal","_initialData$podeCria","_initialData$podeApro","_initialData$nivelFin","_initialData$ativo2","parseInt","min","FilialModal","_ref3","endereco","telefone","_initialData$ativo3","Admin","user","activeTab","setActiveTab","loading","setLoading","usuarios","setUsuarios","setNiveis","filiais","setFiliais","stats","setStats","totalUsuarios","usuariosAtivos","totalNiveis","niveisAtivos","totalFiliais","filiaisAtivas","fluxoModal","setFluxoModal","selectedUser","setSelectedUser","userFluxo","setUserFluxo","availableNiveis","setAvailableNiveis","userModalOpen","setUserModalOpen","editingUser","setEditingUser","nivelModalOpen","setNivelModalOpen","editingNivel","setEditingNivel","filialModalOpen","setFilialModalOpen","editingFilial","setEditingFilial","viewingFilial","setViewingFilial","fetchData","token","localStorage","getItem","usuariosRes","niveisRes","filiaisRes","Promise","all","fetch","headers","concat","ok","usuariosData","json","niveisData","filiaisData","length","u","f","error","console","handleToggleStatus","currentStatus","endpoint","response","method","body","JSON","stringify","handleDelete","window","confirm","loadUserFluxo","userId","fluxo","saveUserFluxo","item","alert","removeUserFluxo","addNivelToFluxo","novoItem","Date","now","ordem","removeNivelFromFluxo","index","_","i","moveNivelInFluxo","fromIndex","toIndex","newFluxo","removed","splice","openFluxoModal","log","handleCreateUser","res","err","handleUpdateUser","handleEditUser","handleCreateNivel","handleUpdateNivel","handleEditNivel","handleCreateFilial","handleUpdateFilial","handleEditFilial","filial","handleViewFilial","usuario","title","some","_item$nivel"],"sources":["/var/www/frontend/src/pages/Admin.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  UsersIcon, \n  BuildingOfficeIcon, \n  ChartBarIcon,\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  XMarkIcon,\n  ArrowPathIcon\n} from '@heroicons/react/24/outline';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface Usuario {\n  id: number;\n  nome: string;\n  email: string;\n  cargo: string;\n  setor: string;\n  ativo: boolean;\n  admin: boolean;\n  createdAt: string;\n}\n\ninterface Nivel {\n  id: number;\n  nome: string;\n  prioridade: number;\n  podeCriarOrcamento: boolean;\n  podeAprovar: boolean;\n  nivelFinal: boolean;\n  ativo: boolean;\n}\n\ninterface Filial {\n  id: number;\n  nome: string;\n  endereco?: string;\n  telefone?: string;\n  ativo: boolean;\n}\n\ninterface DashboardStats {\n  totalUsuarios: number;\n  usuariosAtivos: number;\n  totalNiveis: number;\n  niveisAtivos: number;\n  totalFiliais: number;\n  filiaisAtivas: number;\n}\n\n// Modal reutilizável para cadastro/edição de usuário\ninterface UserModalProps {\n  open: boolean;\n  onClose: () => void;\n  onSave: (form: any) => void;\n  initialData: any;\n  niveis: Nivel[];\n}\n\ninterface NivelModalProps {\n  open: boolean;\n  onClose: () => void;\n  onSave: (form: any) => void;\n  initialData: any;\n}\n\ninterface FilialModalProps {\n  open: boolean;\n  onClose: () => void;\n  onSave: (form: any) => void;\n  initialData: any;\n}\n\nconst UserModal: React.FC<UserModalProps> = ({ open, onClose, onSave, initialData, niveis }) => {\n  const [form, setForm] = useState<{\n    nome: string;\n    email: string;\n    senha: string;\n    cargo: string;\n    setor: string;\n    admin: boolean;\n    ativo: boolean;\n    niveis: number[];\n  }>({\n    nome: '',\n    email: '',\n    senha: '',\n    cargo: '',\n    setor: '',\n    admin: false,\n    ativo: true,\n    niveis: [],\n  });\n  useEffect(() => {\n    if (initialData) {\n      setForm({\n        nome: initialData.nome || '',\n        email: initialData.email || '',\n        senha: '',\n        cargo: initialData.cargo || '',\n        setor: initialData.setor || '',\n        admin: initialData.admin || false,\n        ativo: initialData.ativo ?? true,\n        niveis: initialData.usuarioNiveis ? initialData.usuarioNiveis.map((n: any) => n.nivel.id) : [],\n      });\n    } else {\n      setForm({ nome: '', email: '', senha: '', cargo: '', setor: '', admin: false, ativo: true, niveis: [] });\n    }\n  }, [initialData, open]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value, type, checked } = e.target;\n    setForm((prev) => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  const handleNivelChange = (nivelId: number) => {\n    setForm((prev) => {\n      const niveis = prev.niveis.includes(nivelId)\n        ? prev.niveis.filter((id) => id !== nivelId)\n        : [...prev.niveis, nivelId];\n      return { ...prev, niveis };\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(form);\n  };\n\n  if (!open) return null;\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative\">\n        <button onClick={onClose} className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-700\">\n          <span className=\"text-2xl\">&times;</span>\n        </button>\n        <h2 className=\"text-xl font-bold mb-4\">{initialData ? 'Editar Usuário' : 'Novo Usuário'}</h2>\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\n          <input name=\"nome\" value={form.nome} onChange={handleChange} placeholder=\"Nome\" className=\"w-full border rounded p-2\" required />\n          <input name=\"email\" value={form.email} onChange={handleChange} placeholder=\"Email\" className=\"w-full border rounded p-2\" type=\"email\" required />\n          <input name=\"senha\" value={form.senha} onChange={handleChange} placeholder=\"Senha\" className=\"w-full border rounded p-2\" type=\"password\" autoComplete=\"new-password\" required={!initialData} />\n          <input name=\"cargo\" value={form.cargo} onChange={handleChange} placeholder=\"Cargo\" className=\"w-full border rounded p-2\" required />\n          <input name=\"setor\" value={form.setor} onChange={handleChange} placeholder=\"Setor\" className=\"w-full border rounded p-2\" required />\n          <label className=\"flex items-center gap-2\">\n            <input name=\"admin\" type=\"checkbox\" checked={form.admin} onChange={handleChange} />\n            Administrador\n          </label>\n          <label className=\"flex items-center gap-2\">\n            <input name=\"ativo\" type=\"checkbox\" checked={form.ativo} onChange={handleChange} />\n            Ativo\n          </label>\n          <div>\n            <div className=\"font-medium mb-1\">Níveis de aprovação:</div>\n            <div className=\"flex flex-wrap gap-2\">\n              {niveis.map((nivel) => (\n                <label key={nivel.id} className=\"flex items-center gap-1 text-xs border rounded px-2 py-1\">\n                  <input type=\"checkbox\" checked={form.niveis.includes(nivel.id)} onChange={() => handleNivelChange(nivel.id)} />\n                  {nivel.nome}\n                </label>\n              ))}\n            </div>\n          </div>\n          <button type=\"submit\" className=\"w-full bg-blue-600 text-white rounded p-2 hover:bg-blue-700\">Salvar</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst NivelModal: React.FC<NivelModalProps> = ({ open, onClose, onSave, initialData }) => {\n  const [form, setForm] = useState<{\n    nome: string;\n    prioridade: number;\n    podeCriarOrcamento: boolean;\n    podeAprovar: boolean;\n    nivelFinal: boolean;\n    ativo: boolean;\n  }>({\n    nome: '',\n    prioridade: 1,\n    podeCriarOrcamento: true,\n    podeAprovar: false,\n    nivelFinal: false,\n    ativo: true,\n  });\n\n  useEffect(() => {\n    if (initialData) {\n      setForm({\n        nome: initialData.nome || '',\n        prioridade: initialData.prioridade || 1,\n        podeCriarOrcamento: initialData.podeCriarOrcamento ?? true,\n        podeAprovar: initialData.podeAprovar ?? false,\n        nivelFinal: initialData.nivelFinal ?? false,\n        ativo: initialData.ativo ?? true,\n      });\n    } else {\n      setForm({\n        nome: '',\n        prioridade: 1,\n        podeCriarOrcamento: true,\n        podeAprovar: false,\n        nivelFinal: false,\n        ativo: true,\n      });\n    }\n  }, [initialData, open]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value, type, checked } = e.target;\n    setForm((prev) => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : type === 'number' ? parseInt(value) : value,\n    }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(form);\n  };\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n        <h3 className=\"text-lg font-medium mb-4\">\n          {initialData ? 'Editar Nível' : 'Novo Nível'}\n        </h3>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Nome\n            </label>\n            <input\n              type=\"text\"\n              name=\"nome\"\n              value={form.nome}\n              onChange={handleChange}\n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Prioridade\n            </label>\n            <input\n              type=\"number\"\n              name=\"prioridade\"\n              value={form.prioridade}\n              onChange={handleChange}\n              min=\"1\"\n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n              required\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"podeCriarOrcamento\"\n                checked={form.podeCriarOrcamento}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm\">Pode criar orçamentos</span>\n            </label>\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"podeAprovar\"\n                checked={form.podeAprovar}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm\">Pode aprovar orçamentos</span>\n            </label>\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"nivelFinal\"\n                checked={form.nivelFinal}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm\">Nível final de aprovação</span>\n            </label>\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"ativo\"\n                checked={form.ativo}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm\">Ativo</span>\n            </label>\n          </div>\n          <div className=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n            >\n              Salvar\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst FilialModal: React.FC<FilialModalProps> = ({ open, onClose, onSave, initialData }) => {\n  const [form, setForm] = useState<{\n    nome: string;\n    endereco: string;\n    telefone: string;\n    ativo: boolean;\n  }>({\n    nome: '',\n    endereco: '',\n    telefone: '',\n    ativo: true,\n  });\n\n  useEffect(() => {\n    if (initialData) {\n      setForm({\n        nome: initialData.nome || '',\n        endereco: initialData.endereco || '',\n        telefone: initialData.telefone || '',\n        ativo: initialData.ativo ?? true,\n      });\n    } else {\n      setForm({\n        nome: '',\n        endereco: '',\n        telefone: '',\n        ativo: true,\n      });\n    }\n  }, [initialData, open]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value, type, checked } = e.target;\n    setForm((prev) => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(form);\n  };\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n        <h3 className=\"text-lg font-medium mb-4\">\n          {initialData ? 'Editar Filial' : 'Nova Filial'}\n        </h3>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Nome da Filial\n            </label>\n            <input\n              type=\"text\"\n              name=\"nome\"\n              value={form.nome}\n              onChange={handleChange}\n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Endereço\n            </label>\n            <input\n              type=\"text\"\n              name=\"endereco\"\n              value={form.endereco}\n              onChange={handleChange}\n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Telefone\n            </label>\n            <input\n              type=\"text\"\n              name=\"telefone\"\n              value={form.telefone}\n              onChange={handleChange}\n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n            />\n          </div>\n          <div>\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"ativo\"\n                checked={form.ativo}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm\">Ativa</span>\n            </label>\n          </div>\n          <div className=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n            >\n              Salvar\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst Admin: React.FC = () => {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\n  const [niveis, setNiveis] = useState<Nivel[]>([]);\n  const [filiais, setFiliais] = useState<Filial[]>([]);\n  const [stats, setStats] = useState<DashboardStats>({\n    totalUsuarios: 0,\n    usuariosAtivos: 0,\n    totalNiveis: 0,\n    niveisAtivos: 0,\n    totalFiliais: 0,\n    filiaisAtivas: 0\n  });\n  const [fluxoModal, setFluxoModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<Usuario | null>(null);\n  const [userFluxo, setUserFluxo] = useState<any[]>([]);\n  const [availableNiveis, setAvailableNiveis] = useState<Nivel[]>([]);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [editingUser, setEditingUser] = useState<Usuario | null>(null);\n  const [nivelModalOpen, setNivelModalOpen] = useState(false);\n  const [editingNivel, setEditingNivel] = useState<Nivel | null>(null);\n  const [filialModalOpen, setFilialModalOpen] = useState(false);\n  const [editingFilial, setEditingFilial] = useState<Filial | null>(null);\n  const [viewingFilial, setViewingFilial] = useState<Filial | null>(null);\n\n  const fetchData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      \n      // Buscar dados em paralelo\n      const [usuariosRes, niveisRes, filiaisRes] = await Promise.all([\n        fetch('http://localhost:5000/api/users', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch('http://localhost:5000/api/niveis', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch('http://localhost:5000/api/filiais', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        })\n      ]);\n\n      if (usuariosRes.ok) {\n        const usuariosData = await usuariosRes.json();\n        setUsuarios(usuariosData);\n      }\n\n      if (niveisRes.ok) {\n        const niveisData = await niveisRes.json();\n        setNiveis(niveisData);\n      }\n\n      if (filiaisRes.ok) {\n        const filiaisData = await filiaisRes.json();\n        setFiliais(filiaisData);\n      }\n\n      // Calcular estatísticas\n      setStats({\n        totalUsuarios: usuarios.length,\n        usuariosAtivos: usuarios.filter(u => u.ativo).length,\n        totalNiveis: niveis.length,\n        niveisAtivos: niveis.filter(n => n.ativo).length,\n        totalFiliais: filiais.length,\n        filiaisAtivas: filiais.filter(f => f.ativo).length\n      });\n\n    } catch (error) {\n      console.error('Erro ao carregar dados:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleToggleStatus = async (type: 'usuario' | 'nivel' | 'filial', id: number, currentStatus: boolean) => {\n    try {\n      const token = localStorage.getItem('token');\n      const endpoint = type === 'usuario' ? 'users' : type === 'nivel' ? 'niveis' : 'filiais';\n      \n      const response = await fetch(`http://localhost:5000/api/${endpoint}/${id}`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ ativo: !currentStatus })\n      });\n\n      if (response.ok) {\n        fetchData(); // Recarregar dados\n      }\n    } catch (error) {\n      console.error(`Erro ao alterar status do ${type}:`, error);\n    }\n  };\n\n  const handleDelete = async (type: 'usuario' | 'nivel' | 'filial', id: number) => {\n    if (!window.confirm(`Tem certeza que deseja excluir este ${type}?`)) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const endpoint = type === 'usuario' ? 'users' : type === 'nivel' ? 'niveis' : 'filiais';\n      \n      const response = await fetch(`http://localhost:5000/api/${endpoint}/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        fetchData(); // Recarregar dados\n      }\n    } catch (error) {\n      console.error(`Erro ao excluir ${type}:`, error);\n    }\n  };\n\n  // Carregar fluxo de um usuário\n  const loadUserFluxo = async (userId: number) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/users/${userId}/fluxo`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n      \n      if (response.ok) {\n        const fluxo = await response.json();\n        setUserFluxo(fluxo);\n      } else {\n        setUserFluxo([]);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar fluxo:', error);\n      setUserFluxo([]);\n    }\n  };\n\n  // Salvar fluxo de um usuário\n  const saveUserFluxo = async () => {\n    if (!selectedUser) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      const niveis = userFluxo.map(item => item.nivelId || item.nivel.id);\n      \n      const response = await fetch(`http://localhost:5000/api/users/${selectedUser.id}/fluxo`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ niveis }),\n      });\n\n      if (response.ok) {\n        const fluxo = await response.json();\n        setUserFluxo(fluxo);\n        alert('Fluxo salvo com sucesso!');\n      } else {\n        const error = await response.json();\n        alert(`Erro ao salvar fluxo: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Erro ao salvar fluxo:', error);\n      alert('Erro ao salvar fluxo');\n    }\n  };\n\n  // Remover fluxo de um usuário\n  const removeUserFluxo = async () => {\n    if (!selectedUser) return;\n\n    if (!window.confirm('Tem certeza que deseja remover o fluxo personalizado deste usuário?')) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/users/${selectedUser.id}/fluxo`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        setUserFluxo([]);\n        alert('Fluxo removido com sucesso!');\n      } else {\n        const error = await response.json();\n        alert(`Erro ao remover fluxo: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Erro ao remover fluxo:', error);\n      alert('Erro ao remover fluxo');\n    }\n  };\n\n  // Adicionar nível ao fluxo\n  const addNivelToFluxo = (nivel: Nivel) => {\n    const novoItem = {\n      id: Date.now(), // ID temporário\n      nivelId: nivel.id,\n      nivel: nivel,\n      ordem: userFluxo.length + 1,\n      ativo: true,\n    };\n    setUserFluxo([...userFluxo, novoItem]);\n  };\n\n  // Remover nível do fluxo\n  const removeNivelFromFluxo = (index: number) => {\n    setUserFluxo(userFluxo.filter((_, i) => i !== index));\n  };\n\n  // Mover nível no fluxo\n  const moveNivelInFluxo = (fromIndex: number, toIndex: number) => {\n    const newFluxo = [...userFluxo];\n    const [removed] = newFluxo.splice(fromIndex, 1);\n    newFluxo.splice(toIndex, 0, removed);\n    setUserFluxo(newFluxo);\n  };\n\n  // Abrir modal de fluxo\n  const openFluxoModal = async (user: Usuario) => {\n    console.log('Abrindo modal de fluxo para usuário:', user);\n    setSelectedUser(user);\n    setFluxoModal(true);\n    await loadUserFluxo(user.id);\n  };\n\n  // Função para criar usuário\n  const handleCreateUser = async (form: {\n    nome: string;\n    email: string;\n    senha: string;\n    cargo: string;\n    setor: string;\n    admin: boolean;\n    ativo: boolean;\n    niveis: number[];\n  }) => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('http://localhost:5000/api/users', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(form),\n      });\n      if (res.ok) {\n        setUserModalOpen(false);\n        setEditingUser(null);\n        fetchData();\n        alert('Usuário criado com sucesso!');\n      } else {\n        const error = await res.json();\n        alert(error.error || 'Erro ao criar usuário');\n      }\n    } catch (err) {\n      alert('Erro ao criar usuário');\n    }\n  };\n\n  // Função para editar usuário\n  const handleUpdateUser = async (form: {\n    nome: string;\n    email: string;\n    senha: string;\n    cargo: string;\n    setor: string;\n    admin: boolean;\n    ativo: boolean;\n    niveis: number[];\n  }) => {\n    if (!editingUser) return;\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(`http://localhost:5000/api/users/${editingUser.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(form),\n      });\n      if (res.ok) {\n        setUserModalOpen(false);\n        setEditingUser(null);\n        fetchData();\n        alert('Usuário atualizado com sucesso!');\n      } else {\n        const error = await res.json();\n        alert(error.error || 'Erro ao atualizar usuário');\n      }\n    } catch (err) {\n      alert('Erro ao atualizar usuário');\n    }\n  };\n\n  // Substituir handleEditUser\n  const handleEditUser = (user: Usuario) => {\n    setEditingUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleCreateNivel = async (form: {\n    nome: string;\n    prioridade: number;\n    podeCriarOrcamento: boolean;\n    podeAprovar: boolean;\n    nivelFinal: boolean;\n    ativo: boolean;\n  }) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/niveis', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n\n      if (response.ok) {\n        setNivelModalOpen(false);\n        setEditingNivel(null);\n        fetchData();\n        alert('Nível criado com sucesso!');\n      } else {\n        const error = await response.json();\n        alert(`Erro ao criar nível: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Erro ao criar nível:', error);\n      alert('Erro ao criar nível');\n    }\n  };\n\n  const handleUpdateNivel = async (form: {\n    nome: string;\n    prioridade: number;\n    podeCriarOrcamento: boolean;\n    podeAprovar: boolean;\n    nivelFinal: boolean;\n    ativo: boolean;\n  }) => {\n    if (!editingNivel) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/niveis/${editingNivel.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n\n      if (response.ok) {\n        setNivelModalOpen(false);\n        setEditingNivel(null);\n        fetchData();\n        alert('Nível atualizado com sucesso!');\n      } else {\n        const error = await response.json();\n        alert(`Erro ao atualizar nível: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Erro ao atualizar nível:', error);\n      alert('Erro ao atualizar nível');\n    }\n  };\n\n  const handleEditNivel = (nivel: Nivel) => {\n    setEditingNivel(nivel);\n    setNivelModalOpen(true);\n  };\n\n  const handleCreateFilial = async (form: {\n    nome: string;\n    endereco: string;\n    telefone: string;\n    ativo: boolean;\n  }) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/filiais', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n\n      if (response.ok) {\n        setFilialModalOpen(false);\n        setEditingFilial(null);\n        fetchData();\n        alert('Filial criada com sucesso!');\n      } else {\n        const error = await response.json();\n        alert(`Erro ao criar filial: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Erro ao criar filial:', error);\n      alert('Erro ao criar filial');\n    }\n  };\n\n  const handleUpdateFilial = async (form: {\n    nome: string;\n    endereco: string;\n    telefone: string;\n    ativo: boolean;\n  }) => {\n    if (!editingFilial) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/filiais/${editingFilial.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n\n      if (response.ok) {\n        setFilialModalOpen(false);\n        setEditingFilial(null);\n        fetchData();\n        alert('Filial atualizada com sucesso!');\n      } else {\n        const error = await response.json();\n        alert(`Erro ao atualizar filial: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Erro ao atualizar filial:', error);\n      alert('Erro ao atualizar filial');\n    }\n  };\n\n  const handleEditFilial = (filial: Filial) => {\n    setEditingFilial(filial);\n    setFilialModalOpen(true);\n  };\n\n  const handleViewFilial = (filial: Filial) => {\n    setViewingFilial(filial);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Administração</h1>\n        <p className=\"mt-2 text-gray-600\">\n          Gerencie usuários, níveis de aprovação e filiais do sistema.\n        </p>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8 px-6\">\n            <button\n              onClick={() => setActiveTab('dashboard')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'dashboard'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <ChartBarIcon className=\"h-5 w-5 inline mr-2\" />\n              Dashboard\n            </button>\n            <button\n              onClick={() => setActiveTab('usuarios')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'usuarios'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <UsersIcon className=\"h-5 w-5 inline mr-2\" />\n              Usuários\n            </button>\n            <button\n              onClick={() => setActiveTab('niveis')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'niveis'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <ChartBarIcon className=\"h-5 w-5 inline mr-2\" />\n              Níveis\n            </button>\n            <button\n              onClick={() => setActiveTab('filiais')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'filiais'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <BuildingOfficeIcon className=\"h-5 w-5 inline mr-2\" />\n              Filiais\n            </button>\n          </nav>\n        </div>\n\n        <div className=\"p-6\">\n          {/* Dashboard Tab */}\n          {activeTab === 'dashboard' && (\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-blue-50 rounded-lg p-6\">\n                  <div className=\"flex items-center\">\n                    <UsersIcon className=\"h-8 w-8 text-blue-600\" />\n                    <div className=\"ml-4\">\n                      <p className=\"text-sm font-medium text-blue-600\">Usuários</p>\n                      <p className=\"text-2xl font-bold text-blue-900\">{stats.totalUsuarios}</p>\n                      <p className=\"text-sm text-blue-600\">{stats.usuariosAtivos} ativos</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"bg-green-50 rounded-lg p-6\">\n                  <div className=\"flex items-center\">\n                    <ChartBarIcon className=\"h-8 w-8 text-green-600\" />\n                    <div className=\"ml-4\">\n                      <p className=\"text-sm font-medium text-green-600\">Níveis</p>\n                      <p className=\"text-2xl font-bold text-green-900\">{stats.totalNiveis}</p>\n                      <p className=\"text-sm text-green-600\">{stats.niveisAtivos} ativos</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"bg-purple-50 rounded-lg p-6\">\n                  <div className=\"flex items-center\">\n                    <BuildingOfficeIcon className=\"h-8 w-8 text-purple-600\" />\n                    <div className=\"ml-4\">\n                      <p className=\"text-sm font-medium text-purple-600\">Filiais</p>\n                      <p className=\"text-2xl font-bold text-purple-900\">{stats.totalFiliais}</p>\n                      <p className=\"text-sm text-purple-600\">{stats.filiaisAtivas} ativas</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Usuários Tab */}\n          {activeTab === 'usuarios' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Usuários do Sistema</h3>\n                <button\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n                  onClick={() => { setEditingUser(null); setUserModalOpen(true); }}\n                >\n                  <PlusIcon className=\"h-4 w-4 mr-2\" />\n                  Novo Usuário\n                </button>\n              </div>\n\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Usuário\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Cargo/Setor\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Status\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Admin\n                      </th>\n                      <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Ações\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {usuarios.map((usuario) => (\n                      <tr key={usuario.id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900\">{usuario.nome}</div>\n                            <div className=\"text-sm text-gray-500\">{usuario.email}</div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"text-sm text-gray-900\">{usuario.cargo}</div>\n                          <div className=\"text-sm text-gray-500\">{usuario.setor}</div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                            usuario.ativo ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                          }`}>\n                            {usuario.ativo ? <CheckCircleIcon className=\"h-4 w-4 mr-1\" /> : <XCircleIcon className=\"h-4 w-4 mr-1\" />}\n                            {usuario.ativo ? 'Ativo' : 'Inativo'}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                            usuario.admin ? 'bg-purple-100 text-purple-800' : 'bg-gray-100 text-gray-800'\n                          }`}>\n                            {usuario.admin ? 'Sim' : 'Não'}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                          <div className=\"flex space-x-2\">\n                            <button\n                              onClick={() => handleEditUser(usuario)}\n                              className=\"text-blue-600 hover:text-blue-900\"\n                              title=\"Editar usuário\"\n                            >\n                              <PencilIcon className=\"h-4 w-4\" />\n                            </button>\n                            <button\n                              onClick={() => openFluxoModal(usuario)}\n                              className=\"inline-flex items-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200\"\n                              title=\"Configurar fluxo de aprovação\"\n                            >\n                              <ArrowPathIcon className=\"h-3 w-3 mr-1\" />\n                              Fluxo\n                            </button>\n                            <button\n                              onClick={() => handleToggleStatus('usuario', usuario.id, usuario.ativo)}\n                              className=\"text-yellow-600 hover:text-yellow-900\"\n                              title={usuario.ativo ? 'Desativar usuário' : 'Ativar usuário'}\n                            >\n                              {usuario.ativo ? <XCircleIcon className=\"h-4 w-4\" /> : <CheckCircleIcon className=\"h-4 w-4\" />}\n                            </button>\n                            <button\n                              onClick={() => handleDelete('usuario', usuario.id)}\n                              className=\"text-red-600 hover:text-red-900\"\n                              title=\"Excluir usuário\"\n                            >\n                              <TrashIcon className=\"h-4 w-4\" />\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Níveis Tab */}\n          {activeTab === 'niveis' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Níveis de Aprovação</h3>\n                <button \n                  onClick={() => setNivelModalOpen(true)}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n                >\n                  <PlusIcon className=\"h-4 w-4 mr-2\" />\n                  Novo Nível\n                </button>\n              </div>\n\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Nível\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Prioridade\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Permissões\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Status\n                      </th>\n                      <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Ações\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {niveis.map((nivel) => (\n                      <tr key={nivel.id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"text-sm font-medium text-gray-900\">{nivel.nome}</div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"text-sm text-gray-900\">{nivel.prioridade}</div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"flex flex-wrap gap-2 items-center\">\n                            <span className={`inline-flex items-center px-2 py-1 rounded text-xs ${\n                              nivel.podeCriarOrcamento ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                            }`}>\n                              {nivel.podeCriarOrcamento ? 'Criar' : 'Não Criar'}\n                            </span>\n                            <span className={`inline-flex items-center px-2 py-1 rounded text-xs ${\n                              nivel.podeAprovar ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800'\n                            }`}>\n                              {nivel.podeAprovar ? 'Aprovar' : 'Não Aprovar'}\n                            </span>\n                            <span className={`inline-flex items-center px-2 py-1 rounded text-xs ${\n                              nivel.nivelFinal ? 'bg-purple-100 text-purple-800' : 'bg-gray-100 text-gray-800'\n                            }`}>\n                              {nivel.nivelFinal ? 'Final' : 'Não Final'}\n                            </span>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                            nivel.ativo ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                          }`}>\n                            {nivel.ativo ? <CheckCircleIcon className=\"h-4 w-4 mr-1\" /> : <XCircleIcon className=\"h-4 w-4 mr-1\" />}\n                            {nivel.ativo ? 'Ativo' : 'Inativo'}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                          <div className=\"flex items-center justify-end space-x-2\">\n                            <button \n                              onClick={() => handleEditNivel(nivel)}\n                              className=\"text-green-600 hover:text-green-900\"\n                              title=\"Editar nível\"\n                            >\n                              <PencilIcon className=\"h-4 w-4\" />\n                            </button>\n                            <button \n                              onClick={() => handleToggleStatus('nivel', nivel.id, nivel.ativo)}\n                              className=\"text-yellow-600 hover:text-yellow-900\"\n                              title={nivel.ativo ? 'Inativar nível' : 'Ativar nível'}\n                            >\n                              {nivel.ativo ? <XCircleIcon className=\"h-4 w-4\" /> : <CheckCircleIcon className=\"h-4 w-4\" />}\n                            </button>\n                            <button \n                              onClick={() => handleDelete('nivel', nivel.id)}\n                              className=\"text-red-600 hover:text-red-900\"\n                              title=\"Excluir nível\"\n                            >\n                              <TrashIcon className=\"h-4 w-4\" />\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Filiais Tab */}\n          {activeTab === 'filiais' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Filiais</h3>\n                <button \n                  onClick={() => setFilialModalOpen(true)}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n                >\n                  <PlusIcon className=\"h-4 w-4 mr-2\" />\n                  Nova Filial\n                </button>\n              </div>\n\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Filial\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Contato\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Status\n                      </th>\n                      <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Ações\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {filiais.map((filial) => (\n                      <tr key={filial.id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900\">{filial.nome}</div>\n                            {filial.endereco && (\n                              <div className=\"text-sm text-gray-500\">{filial.endereco}</div>\n                            )}\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"text-sm text-gray-900\">{filial.telefone || 'N/A'}</div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                            filial.ativo ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                          }`}>\n                            {filial.ativo ? <CheckCircleIcon className=\"h-4 w-4 mr-1\" /> : <XCircleIcon className=\"h-4 w-4 mr-1\" />}\n                            {filial.ativo ? 'Ativa' : 'Inativa'}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                          <div className=\"flex items-center justify-end space-x-2\">\n                            <button \n                              onClick={() => handleViewFilial(filial)}\n                              className=\"text-blue-600 hover:text-blue-900\"\n                              title=\"Visualizar filial\"\n                            >\n                              <EyeIcon className=\"h-4 w-4\" />\n                            </button>\n                            <button \n                              onClick={() => handleEditFilial(filial)}\n                              className=\"text-green-600 hover:text-green-900\"\n                              title=\"Editar filial\"\n                            >\n                              <PencilIcon className=\"h-4 w-4\" />\n                            </button>\n                            <button \n                              onClick={() => handleToggleStatus('filial', filial.id, filial.ativo)}\n                              className=\"text-yellow-600 hover:text-yellow-900\"\n                              title={filial.ativo ? 'Inativar filial' : 'Ativar filial'}\n                            >\n                              {filial.ativo ? <XCircleIcon className=\"h-4 w-4\" /> : <CheckCircleIcon className=\"h-4 w-4\" />}\n                            </button>\n                            <button \n                              onClick={() => handleDelete('filial', filial.id)}\n                              className=\"text-red-600 hover:text-red-900\"\n                              title=\"Excluir filial\"\n                            >\n                              <TrashIcon className=\"h-4 w-4\" />\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Modal de Fluxo Personalizado */}\n      {fluxoModal && selectedUser && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">\n                Fluxo de Aprovação - {selectedUser.nome}\n              </h3>\n              <button\n                onClick={() => setFluxoModal(false)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"mb-4\">\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Configure a ordem de aprovação para este usuário. Os orçamentos seguirão esta sequência.\n              </p>\n              \n              {/* Fluxo atual */}\n              <div className=\"mb-4\">\n                <h4 className=\"font-medium mb-2\">Fluxo Atual:</h4>\n                {userFluxo.length === 0 ? (\n                  <p className=\"text-gray-500 italic\">Nenhum fluxo personalizado configurado (usará fluxo padrão)</p>\n                ) : (\n                  <div className=\"space-y-2\">\n                    {userFluxo.map((item, index) => (\n                      <div key={item.id || index} className=\"flex items-center justify-between bg-gray-50 p-3 rounded\">\n                        <div className=\"flex items-center space-x-3\">\n                          <span className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm\">\n                            {index + 1}\n                          </span>\n                          <span className=\"font-medium\">{item.nivel.nome}</span>\n                        </div>\n                        <div className=\"flex space-x-2\">\n                          {index > 0 && (\n                            <button\n                              onClick={() => moveNivelInFluxo(index, index - 1)}\n                              className=\"text-blue-600 hover:text-blue-800\"\n                            >\n                              ↑\n                            </button>\n                          )}\n                          {index < userFluxo.length - 1 && (\n                            <button\n                              onClick={() => moveNivelInFluxo(index, index + 1)}\n                              className=\"text-blue-600 hover:text-blue-800\"\n                            >\n                              ↓\n                            </button>\n                          )}\n                          <button\n                            onClick={() => removeNivelFromFluxo(index)}\n                            className=\"text-red-600 hover:text-red-800\"\n                          >\n                            <XMarkIcon className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Adicionar níveis */}\n              <div className=\"mb-4\">\n                <h4 className=\"font-medium mb-2\">Adicionar Nível:</h4>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                  {niveis\n                    .filter(nivel => !userFluxo.some(item => item.nivelId === nivel.id || item.nivel?.id === nivel.id))\n                    .map(nivel => (\n                      <button\n                        key={nivel.id}\n                        onClick={() => addNivelToFluxo(nivel)}\n                        className=\"text-left p-2 border rounded hover:bg-gray-50\"\n                      >\n                        {nivel.nome}\n                      </button>\n                    ))}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={removeUserFluxo}\n                className=\"px-4 py-2 text-red-600 border border-red-600 rounded hover:bg-red-50\"\n              >\n                Remover Fluxo\n              </button>\n              <button\n                onClick={saveUserFluxo}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n              >\n                Salvar Fluxo\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal de usuário */}\n      <UserModal\n        open={userModalOpen}\n        onClose={() => { setUserModalOpen(false); setEditingUser(null); }}\n        onSave={editingUser ? handleUpdateUser : handleCreateUser}\n        initialData={editingUser}\n        niveis={niveis}\n      />\n\n      {/* Modal de nível */}\n      <NivelModal\n        open={nivelModalOpen}\n        onClose={() => { setNivelModalOpen(false); setEditingNivel(null); }}\n        onSave={editingNivel ? handleUpdateNivel : handleCreateNivel}\n        initialData={editingNivel}\n      />\n\n      {/* Modal de filial */}\n      <FilialModal\n        open={filialModalOpen}\n        onClose={() => { setFilialModalOpen(false); setEditingFilial(null); }}\n        onSave={editingFilial ? handleUpdateFilial : handleCreateFilial}\n        initialData={editingFilial}\n      />\n\n      {/* Modal de visualização de filial */}\n      {viewingFilial && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium\">Detalhes da Filial</h3>\n              <button\n                onClick={() => setViewingFilial(null)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Nome da Filial\n                </label>\n                <p className=\"text-sm text-gray-900\">{viewingFilial.nome}</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Endereço\n                </label>\n                <p className=\"text-sm text-gray-900\">{viewingFilial.endereco || 'Não informado'}</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Telefone\n                </label>\n                <p className=\"text-sm text-gray-900\">{viewingFilial.telefone || 'Não informado'}</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Status\n                </label>\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                  viewingFilial.ativo ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                }`}>\n                  {viewingFilial.ativo ? <CheckCircleIcon className=\"h-4 w-4 mr-1\" /> : <XCircleIcon className=\"h-4 w-4 mr-1\" />}\n                  {viewingFilial.ativo ? 'Ativa' : 'Inativa'}\n                </span>\n              </div>\n            </div>\n            <div className=\"flex justify-end mt-6\">\n              <button\n                onClick={() => setViewingFilial(null)}\n                className=\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\"\n              >\n                Fechar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Admin; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}