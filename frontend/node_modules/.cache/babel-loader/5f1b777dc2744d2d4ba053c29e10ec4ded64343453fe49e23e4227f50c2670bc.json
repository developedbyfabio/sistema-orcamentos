{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{ArrowLeftIcon,DocumentTextIcon,BuildingOfficeIcon,UserIcon,LinkIcon,PhotoIcon,PaperClipIcon,CheckCircleIcon,XCircleIcon,ClockIcon,EyeIcon,ChartBarIcon,ShoppingCartIcon,ShoppingBagIcon,CheckBadgeIcon,PencilIcon,TrashIcon}from'@heroicons/react/24/outline';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OrcamentoDetalhes=()=>{const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[orcamento,setOrcamento]=useState(null);const[loading,setLoading]=useState(true);const[showAprovar,setShowAprovar]=useState(false);const[showRejeitar,setShowRejeitar]=useState(false);const[obsAprovacao,setObsAprovacao]=useState('');const[motivoRejeicao,setMotivoRejeicao]=useState('');const[obsRejeicao,setObsRejeicao]=useState('');const[submitting,setSubmitting]=useState(false);useEffect(()=>{if(id){fetchOrcamento();}},[id]);const fetchOrcamento=async()=>{if(submitting)return;// Não buscar se estiver submetendo\ntry{setLoading(true);const token=localStorage.getItem('token');const response=await fetch(\"http://192.168.1.120:5000/api/orcamentos/\".concat(id),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setOrcamento(data);}else{console.error('Erro ao buscar orçamento');}}catch(error){console.error('Erro ao buscar orçamento:',error);}finally{setLoading(false);}};const formatCurrency=value=>{return new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(value);};const getStatusColor=status=>{switch(status){case'PENDENTE':return'bg-yellow-100 text-yellow-800';case'APROVADO':return'bg-green-100 text-green-800';case'REJEITADO':return'bg-red-100 text-red-800';case'AGUARDANDO_COMPRA':return'bg-blue-100 text-blue-800';case'COMPRA_EFETUADA':return'bg-purple-100 text-purple-800';case'FINALIZADO':return'bg-gray-100 text-gray-800';default:return'bg-gray-100 text-gray-800';}};const getStatusIcon=status=>{switch(status){case'PENDENTE':return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4\"});case'APROVADO':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4\"});case'REJEITADO':return/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4\"});case'AGUARDANDO_COMPRA':return/*#__PURE__*/_jsx(ShoppingCartIcon,{className:\"h-4 w-4\"});case'COMPRA_EFETUADA':return/*#__PURE__*/_jsx(ShoppingBagIcon,{className:\"h-4 w-4\"});case'FINALIZADO':return/*#__PURE__*/_jsx(CheckBadgeIcon,{className:\"h-4 w-4\"});default:return/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-4 w-4\"});}};const getStatusText=status=>{switch(status){case'PENDENTE':return'Pendente';case'APROVADO':return'Aprovado';case'REJEITADO':return'Rejeitado';case'AGUARDANDO_COMPRA':return'Aguardando Compra';case'COMPRA_EFETUADA':return'Compra Efetuada';case'FINALIZADO':return'Finalizado';default:return status;}};// Verifica se o usuário pode aprovar/rejeitar\nconst podeAprovarOuRejeitar=user&&user.usuarioNiveis&&orcamento&&orcamento.status==='PENDENTE'&&user.usuarioNiveis.some(un=>un.nivel.podeAprovar&&un.nivel.id===orcamento.nivelAtual.id);// Verifica se o usuário pode marcar como comprado (nível final/compras)\nconst podeMarcarComoComprado=user&&user.usuarioNiveis&&orcamento&&orcamento.status==='AGUARDANDO_COMPRA'&&user.usuarioNiveis.some(un=>un.nivel.nivelFinal&&un.nivel.id===orcamento.nivelAtual.id);// Verifica se o usuário pode dar baixa (nível final/compras)\nconst podeDarBaixa=user&&user.usuarioNiveis&&orcamento&&orcamento.status==='COMPRA_EFETUADA'&&user.usuarioNiveis.some(un=>un.nivel.nivelFinal&&un.nivel.id===orcamento.nivelAtual.id);// Função para aprovar orçamento\nconst handleAprovar=async()=>{// Definir submitting imediatamente para evitar qualquer renderização\nsetSubmitting(true);try{const token=localStorage.getItem('token');const response=await fetch(\"http://192.168.1.120:5000/api/orcamentos/\".concat(orcamento===null||orcamento===void 0?void 0:orcamento.id,\"/aprovar\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({observacao:obsAprovacao||''})});if(response.ok){alert('Orçamento aprovado com sucesso!');// Redirecionar usando navigate para manter autenticação\nnavigate('/dashboard',{replace:true});return;}else{const errorData=await response.json();alert(errorData.error||'Erro ao aprovar orçamento');setSubmitting(false);// Só resetar se der erro\n}}catch(error){console.error('Erro ao aprovar orçamento:',error);alert('Erro ao aprovar orçamento');setSubmitting(false);// Só resetar se der erro\n}};// Função para rejeitar orçamento\nconst handleRejeitar=async()=>{// Definir submitting imediatamente para evitar qualquer renderização\nsetSubmitting(true);try{const token=localStorage.getItem('token');const response=await fetch(\"http://192.168.1.120:5000/api/orcamentos/\".concat(orcamento===null||orcamento===void 0?void 0:orcamento.id,\"/rejeitar\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({observacao:obsRejeicao||''})});if(response.ok){alert('Orçamento rejeitado com sucesso!');// Redirecionar usando navigate para manter autenticação\nnavigate('/dashboard',{replace:true});return;}else{const errorData=await response.json();alert(errorData.error||'Erro ao rejeitar orçamento');setSubmitting(false);// Só resetar se der erro\n}}catch(error){console.error('Erro ao rejeitar orçamento:',error);alert('Erro ao rejeitar orçamento');setSubmitting(false);// Só resetar se der erro\n}};// Função para marcar como comprado\nconst handleMarcarComoComprado=async()=>{if(!window.confirm('Tem certeza que deseja marcar este orçamento como comprado?')){return;}// Definir submitting imediatamente para evitar qualquer renderização\nsetSubmitting(true);try{const token=localStorage.getItem('token');const response=await fetch(\"http://192.168.1.120:5000/api/orcamentos/\".concat(orcamento===null||orcamento===void 0?void 0:orcamento.id,\"/comprado\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){alert('Orçamento marcado como comprado com sucesso!');// Redirecionar usando navigate para manter autenticação\nnavigate('/dashboard',{replace:true});return;}else{const errorData=await response.json();alert(errorData.error||'Erro ao marcar como comprado');setSubmitting(false);// Só resetar se der erro\n}}catch(error){console.error('Erro ao marcar como comprado:',error);alert('Erro ao marcar como comprado');setSubmitting(false);// Só resetar se der erro\n}};// Função para dar baixa no orçamento\nconst handleDarBaixa=async()=>{if(!window.confirm('Tem certeza que deseja dar baixa neste orçamento? O item chegou?')){return;}// Definir submitting imediatamente para evitar qualquer renderização\nsetSubmitting(true);try{const token=localStorage.getItem('token');const response=await fetch(\"http://192.168.1.120:5000/api/orcamentos/\".concat(orcamento===null||orcamento===void 0?void 0:orcamento.id,\"/baixa\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){alert('Baixa realizada com sucesso! Orçamento finalizado.');// Redirecionar usando navigate para manter autenticação\nnavigate('/dashboard',{replace:true});return;}else{const errorData=await response.json();alert(errorData.error||'Erro ao dar baixa');setSubmitting(false);}}catch(error){console.error('Erro ao dar baixa:',error);alert('Erro ao dar baixa no orçamento');setSubmitting(false);}};// Se estiver submetendo, não renderizar nada\nif(submitting){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Processando...\"})]})});}// Se estiver carregando, mostrar loader\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Carregando or\\xE7amento...\"})]})});}if(!orcamento){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Or\\xE7amento n\\xE3o encontrado\"})});}const aprovacoesOrdenadas=[...orcamento.aprovacoes].sort((a,b)=>new Date(a.createdAt).getTime()-new Date(b.createdAt).getTime());const rejeicoesOrdenadas=[...orcamento.rejeicoes].sort((a,b)=>new Date(a.createdAt).getTime()-new Date(b.createdAt).getTime());return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"mr-4 p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100\",children:/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:[\"Or\\xE7amento #\",orcamento.id]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-600\",children:orcamento.titulo})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium \".concat(getStatusColor(orcamento.status)),children:[getStatusIcon(orcamento.status),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:orcamento.status})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4 mr-2\"}),\"Imprimir\"]}),podeAprovarOuRejeitar&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 border border-green-600 text-green-700 bg-green-50 rounded-md shadow-sm text-sm font-medium hover:bg-green-100 ml-2\",onClick:()=>setShowAprovar(true),disabled:submitting,children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-2\"}),\" Aprovar\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 border border-red-600 text-red-700 bg-red-50 rounded-md shadow-sm text-sm font-medium hover:bg-red-100 ml-2\",onClick:()=>setShowRejeitar(true),disabled:submitting,children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-4 w-4 mr-2\"}),\" Rejeitar\"]})]}),podeMarcarComoComprado&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleMarcarComoComprado,className:\"inline-flex items-center px-3 py-1 border border-purple-600 text-purple-700 bg-purple-50 rounded-md shadow-sm text-xs font-medium hover:bg-purple-100\",children:[/*#__PURE__*/_jsx(ShoppingBagIcon,{className:\"h-4 w-4 mr-2\"}),\" Marcar como Compra Efetuada\"]}),podeDarBaixa&&/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 border border-indigo-600 text-indigo-700 bg-indigo-50 rounded-md shadow-sm text-sm font-medium hover:bg-indigo-100 ml-2\",onClick:handleDarBaixa,disabled:submitting,children:[/*#__PURE__*/_jsx(CheckBadgeIcon,{className:\"h-4 w-4 mr-2\"}),\" Dar Baixa\"]}),orcamento.solicitante&&user&&orcamento.solicitante.id===user.id&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/orcamentos/\".concat(orcamento.id,\"/editar\")),className:\"text-green-600 hover:text-green-900 p-1\",title:\"Editar\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(window.confirm('Tem certeza que deseja excluir este orçamento?')){// lógica de exclusão\n}},className:\"text-red-600 hover:text-red-900 p-1\",title:\"Excluir\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})]})]})}),showAprovar&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold mb-4\",children:\"Aprovar Or\\xE7amento\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full border rounded p-2 mb-4\",placeholder:\"Observa\\xE7\\xF5es (opcional)\",value:obsAprovacao,onChange:e=>setObsAprovacao(e.target.value),rows:3}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\",onClick:()=>setShowAprovar(false),disabled:submitting,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700\",onClick:handleAprovar,disabled:submitting,children:\"Confirmar Aprova\\xE7\\xE3o\"})]})]})}),showRejeitar&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold mb-4\",children:\"Rejeitar Or\\xE7amento\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full border rounded p-2 mb-2\",placeholder:\"Motivo da rejei\\xE7\\xE3o (obrigat\\xF3rio)\",value:motivoRejeicao,onChange:e=>setMotivoRejeicao(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full border rounded p-2 mb-4\",placeholder:\"Observa\\xE7\\xF5es (opcional)\",value:obsRejeicao,onChange:e=>setObsRejeicao(e.target.value),rows:3}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\",onClick:()=>setShowRejeitar(false),disabled:submitting,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\",onClick:handleRejeitar,disabled:submitting,children:\"Confirmar Rejei\\xE7\\xE3o\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Detalhes do Or\\xE7amento\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.titulo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 whitespace-pre-wrap\",children:orcamento.descricao})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Valor Unit\\xE1rio\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:formatCurrency(orcamento.valor)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Quantidade\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:orcamento.quantidade})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-blue-600\",children:formatCurrency(orcamento.valor*orcamento.quantidade)})]})]}),orcamento.fornecedor&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fornecedor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.fornecedor})]}),orcamento.observacoes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 whitespace-pre-wrap\",children:orcamento.observacoes})]})]})]}),(orcamento.links||orcamento.fotos||orcamento.anexos)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Links e Anexos\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[orcamento.links&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(LinkIcon,{className:\"h-4 w-4 mr-2\"}),\"Links\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:orcamento.links.split(',').map((link,index)=>/*#__PURE__*/_jsx(\"a\",{href:link.trim(),target:\"_blank\",rel:\"noopener noreferrer\",className:\"block text-blue-600 hover:text-blue-800 underline\",children:link.trim()},index))})]}),orcamento.fotos&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(PhotoIcon,{className:\"h-4 w-4 mr-2\"}),\"Fotos\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:orcamento.fotos.split(',').map((foto,index)=>{const fotoUrl=foto.trim();const isImage=/\\.(jpg|jpeg|png|gif|webp)$/i.test(fotoUrl);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[isImage?/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000\".concat(fotoUrl),alt:\"Foto \".concat(index+1),className:\"h-24 w-full object-cover rounded-lg border cursor-pointer hover:opacity-80\",onClick:()=>window.open(\"http://localhost:5000\".concat(fotoUrl),'_blank')}):/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:5000\".concat(fotoUrl),target:\"_blank\",rel:\"noopener noreferrer\",className:\"block h-24 w-full bg-gray-100 rounded-lg border flex items-center justify-center text-gray-500 hover:bg-gray-200\",children:/*#__PURE__*/_jsx(PaperClipIcon,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1 truncate\",children:fotoUrl.split('/').pop()||\"Arquivo \".concat(index+1)})]},index);})})]}),orcamento.anexos&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(PaperClipIcon,{className:\"h-4 w-4 mr-2\"}),\"Anexos\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:orcamento.anexos.split(',').map((anexo,index)=>{var _fileName$split$pop;const anexoUrl=anexo.trim();const fileName=anexoUrl.split('/').pop()||\"Anexo \".concat(index+1);const fileExtension=(_fileName$split$pop=fileName.split('.').pop())===null||_fileName$split$pop===void 0?void 0:_fileName$split$pop.toLowerCase();// Determinar ícone baseado na extensão\nconst getFileIcon=ext=>{switch(ext){case'pdf':return'📄';case'doc':case'docx':return'📝';case'xls':case'xlsx':return'📊';case'txt':return'📄';case'zip':case'rar':return'📦';default:return'📎';}};return/*#__PURE__*/_jsxs(\"a\",{href:\"http://localhost:5000\".concat(anexoUrl),target:\"_blank\",rel:\"noopener noreferrer\",className:\"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-3\",children:getFileIcon(fileExtension||'')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:fileName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Clique para baixar\"})]}),/*#__PURE__*/_jsx(PaperClipIcon,{className:\"h-4 w-4 text-gray-400\"})]},index);})})]})]})]}),orcamento.aprovacoes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 mr-2 text-green-600\"}),\"Aprova\\xE7\\xF5es\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:aprovacoesOrdenadas.map(aprovacao=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-green-500 pl-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:aprovacao.aprovador.nome}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:aprovacao.aprovador.email})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(aprovacao.createdAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(aprovacao.createdAt).toLocaleTimeString('pt-BR')]})]}),aprovacao.observacoes&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-700\",children:aprovacao.observacoes})]},aprovacao.id))})})]}),orcamento.rejeicoes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5 mr-2 text-red-600\"}),\"Rejei\\xE7\\xF5es\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:rejeicoesOrdenadas.map(rejeicao=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-red-500 pl-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:rejeicao.rejeitador.nome}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:rejeicao.rejeitador.email})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(rejeicao.createdAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(rejeicao.createdAt).toLocaleTimeString('pt-BR')]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm font-medium text-red-600\",children:[\"Motivo: \",rejeicao.motivo]}),rejeicao.observacoes&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-700\",children:rejeicao.observacoes})]},rejeicao.id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Hist\\xF3rico Completo\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Or\\xE7amento Criado\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"por \",orcamento.solicitante.nome]})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(orcamento.createdAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(orcamento.createdAt).toLocaleTimeString('pt-BR')]})]}),aprovacoesOrdenadas.map((aprovacao,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-500 rounded-full mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[\"Aprovado pelo N\\xEDvel \",index+1]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"por \",aprovacao.aprovador.nome,\" (\",aprovacao.aprovador.email,\")\"]})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(aprovacao.createdAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(aprovacao.createdAt).toLocaleTimeString('pt-BR')]})]},aprovacao.id)),rejeicoesOrdenadas.map(rejeicao=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-red-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Rejeitado\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"por \",rejeicao.rejeitador.nome,\" (\",rejeicao.rejeitador.email,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Motivo: \",rejeicao.motivo]})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(rejeicao.createdAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(rejeicao.createdAt).toLocaleTimeString('pt-BR')]})]},rejeicao.id)),orcamento.dataCompra&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-purple-500 rounded-full mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Marcado como Comprado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Compra efetuada pelo comprador\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(orcamento.dataCompra).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(orcamento.dataCompra).toLocaleTimeString('pt-BR')]})]}),orcamento.dataBaixa&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-indigo-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-indigo-500 rounded-full mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Baixa Efetuada\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Or\\xE7amento finalizado\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[new Date(orcamento.dataBaixa).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(orcamento.dataBaixa).toLocaleTimeString('pt-BR')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gray-500 rounded-full mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Status Atual\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:getStatusText(orcamento.status)})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"\\xDAltima atualiza\\xE7\\xE3o: \",new Date(orcamento.updatedAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(orcamento.updatedAt).toLocaleTimeString('pt-BR')]})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Solicitante\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Nome\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.solicitante.nome})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.solicitante.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Cargo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.solicitante.cargo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Setor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.solicitante.setor})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-5 w-5 mr-2 text-green-600\"}),\"N\\xEDvel de Aprova\\xE7\\xE3o\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"N\\xEDvel Atual\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.nivelAtual.nome})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Prioridade\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.nivelAtual.prioridade})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"h-5 w-5 mr-2 text-purple-600\"}),\"Filial\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Nome\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.filial.nome})]}),orcamento.filial.endereco&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:orcamento.filial.endereco})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Datas\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Criado em\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900\",children:[new Date(orcamento.createdAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(orcamento.createdAt).toLocaleTimeString('pt-BR')]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\xDAltima atualiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900\",children:[new Date(orcamento.updatedAt).toLocaleDateString('pt-BR'),\" \\xE0s\",' ',new Date(orcamento.updatedAt).toLocaleTimeString('pt-BR')]})]})]})})]})]})]})]});};export default OrcamentoDetalhes;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","ArrowLeftIcon","DocumentTextIcon","BuildingOfficeIcon","UserIcon","LinkIcon","PhotoIcon","PaperClipIcon","CheckCircleIcon","XCircleIcon","ClockIcon","EyeIcon","ChartBarIcon","ShoppingCartIcon","ShoppingBagIcon","CheckBadgeIcon","PencilIcon","TrashIcon","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrcamentoDetalhes","id","navigate","user","orcamento","setOrcamento","loading","setLoading","showAprovar","setShowAprovar","showRejeitar","setShowRejeitar","obsAprovacao","setObsAprovacao","motivoRejeicao","setMotivoRejeicao","obsRejeicao","setObsRejeicao","submitting","setSubmitting","fetchOrcamento","token","localStorage","getItem","response","fetch","concat","headers","ok","data","json","console","error","formatCurrency","value","Intl","NumberFormat","style","currency","format","getStatusColor","status","getStatusIcon","className","getStatusText","podeAprovarOuRejeitar","usuarioNiveis","some","un","nivel","podeAprovar","nivelAtual","podeMarcarComoComprado","nivelFinal","podeDarBaixa","handleAprovar","method","body","JSON","stringify","observacao","alert","replace","errorData","handleRejeitar","handleMarcarComoComprado","window","confirm","handleDarBaixa","children","aprovacoesOrdenadas","aprovacoes","sort","a","b","Date","createdAt","getTime","rejeicoesOrdenadas","rejeicoes","onClick","titulo","disabled","solicitante","title","placeholder","onChange","e","target","rows","descricao","valor","quantidade","fornecedor","observacoes","links","fotos","anexos","split","map","link","index","href","trim","rel","foto","fotoUrl","isImage","test","src","alt","open","pop","anexo","_fileName$split$pop","anexoUrl","fileName","fileExtension","toLowerCase","getFileIcon","ext","length","aprovacao","aprovador","nome","email","toLocaleDateString","toLocaleTimeString","rejeicao","rejeitador","motivo","dataCompra","dataBaixa","updatedAt","cargo","setor","prioridade","filial","endereco"],"sources":["/var/www/frontend/src/pages/OrcamentoDetalhes.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  ArrowLeftIcon,\n  DocumentTextIcon,\n  CurrencyDollarIcon,\n  BuildingOfficeIcon,\n  UserIcon,\n  LinkIcon,\n  PhotoIcon,\n  PaperClipIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon,\n  EyeIcon,\n  ChartBarIcon,\n  ShoppingCartIcon,\n  ShoppingBagIcon,\n  TruckIcon,\n  CheckBadgeIcon,\n  PencilIcon,\n  TrashIcon\n} from '@heroicons/react/24/outline';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface Orcamento {\n  id: number;\n  titulo: string;\n  descricao: string;\n  valor: number;\n  quantidade: number;\n  fornecedor?: string;\n  links?: string;\n  fotos?: string;\n  anexos?: string;\n  status: string;\n  observacoes?: string;\n  createdAt: string;\n  updatedAt: string;\n  dataCompra?: string;\n  dataBaixa?: string;\n  solicitante: {\n    id: number;\n    nome: string;\n    email: string;\n    cargo: string;\n    setor: string;\n  };\n  nivelAtual: {\n    id: number;\n    nome: string;\n    prioridade: number;\n  };\n  filial: {\n    id: number;\n    nome: string;\n    endereco?: string;\n  };\n  proximoNivel?: {\n    id: number;\n    nome: string;\n  };\n  aprovacoes: Array<{\n    id: number;\n    aprovador: {\n      id: number;\n      nome: string;\n      email: string;\n    };\n    observacoes?: string;\n    createdAt: string;\n  }>;\n  rejeicoes: Array<{\n    id: number;\n    rejeitador: {\n      id: number;\n      nome: string;\n      email: string;\n    };\n    motivo: string;\n    observacoes?: string;\n    createdAt: string;\n  }>;\n}\n\nconst OrcamentoDetalhes: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [orcamento, setOrcamento] = useState<Orcamento | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [showAprovar, setShowAprovar] = useState(false);\n  const [showRejeitar, setShowRejeitar] = useState(false);\n  const [obsAprovacao, setObsAprovacao] = useState('');\n  const [motivoRejeicao, setMotivoRejeicao] = useState('');\n  const [obsRejeicao, setObsRejeicao] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (id) {\n      fetchOrcamento();\n    }\n  }, [id]);\n\n  const fetchOrcamento = async () => {\n    if (submitting) return; // Não buscar se estiver submetendo\n    \n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://192.168.1.120:5000/api/orcamentos/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setOrcamento(data);\n      } else {\n        console.error('Erro ao buscar orçamento');\n      }\n    } catch (error) {\n      console.error('Erro ao buscar orçamento:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(value);\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'PENDENTE': return 'bg-yellow-100 text-yellow-800';\n      case 'APROVADO': return 'bg-green-100 text-green-800';\n      case 'REJEITADO': return 'bg-red-100 text-red-800';\n      case 'AGUARDANDO_COMPRA': return 'bg-blue-100 text-blue-800';\n      case 'COMPRA_EFETUADA': return 'bg-purple-100 text-purple-800';\n      case 'FINALIZADO': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'PENDENTE': return <ClockIcon className=\"h-4 w-4\" />;\n      case 'APROVADO': return <CheckCircleIcon className=\"h-4 w-4\" />;\n      case 'REJEITADO': return <XCircleIcon className=\"h-4 w-4\" />;\n      case 'AGUARDANDO_COMPRA': return <ShoppingCartIcon className=\"h-4 w-4\" />;\n      case 'COMPRA_EFETUADA': return <ShoppingBagIcon className=\"h-4 w-4\" />;\n      case 'FINALIZADO': return <CheckBadgeIcon className=\"h-4 w-4\" />;\n      default: return <DocumentTextIcon className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'PENDENTE': return 'Pendente';\n      case 'APROVADO': return 'Aprovado';\n      case 'REJEITADO': return 'Rejeitado';\n      case 'AGUARDANDO_COMPRA': return 'Aguardando Compra';\n      case 'COMPRA_EFETUADA': return 'Compra Efetuada';\n      case 'FINALIZADO': return 'Finalizado';\n      default: return status;\n    }\n  };\n\n  // Verifica se o usuário pode aprovar/rejeitar\n  const podeAprovarOuRejeitar =\n    user &&\n    user.usuarioNiveis &&\n    orcamento &&\n    orcamento.status === 'PENDENTE' &&\n    user.usuarioNiveis.some(un => un.nivel.podeAprovar && un.nivel.id === orcamento.nivelAtual.id);\n\n  // Verifica se o usuário pode marcar como comprado (nível final/compras)\n  const podeMarcarComoComprado =\n    user &&\n    user.usuarioNiveis &&\n    orcamento &&\n    orcamento.status === 'AGUARDANDO_COMPRA' &&\n    user.usuarioNiveis.some(un => un.nivel.nivelFinal && un.nivel.id === orcamento.nivelAtual.id);\n\n  // Verifica se o usuário pode dar baixa (nível final/compras)\n  const podeDarBaixa =\n    user &&\n    user.usuarioNiveis &&\n    orcamento &&\n    orcamento.status === 'COMPRA_EFETUADA' &&\n    user.usuarioNiveis.some(un => un.nivel.nivelFinal && un.nivel.id === orcamento.nivelAtual.id);\n\n  // Função para aprovar orçamento\n  const handleAprovar = async () => {\n    // Definir submitting imediatamente para evitar qualquer renderização\n    setSubmitting(true);\n    \n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://192.168.1.120:5000/api/orcamentos/${orcamento?.id}/aprovar`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ observacao: obsAprovacao || '' })\n      });\n\n      if (response.ok) {\n        alert('Orçamento aprovado com sucesso!');\n        // Redirecionar usando navigate para manter autenticação\n        navigate('/dashboard', { replace: true });\n        return;\n      } else {\n        const errorData = await response.json();\n        alert(errorData.error || 'Erro ao aprovar orçamento');\n        setSubmitting(false); // Só resetar se der erro\n      }\n    } catch (error) {\n      console.error('Erro ao aprovar orçamento:', error);\n      alert('Erro ao aprovar orçamento');\n      setSubmitting(false); // Só resetar se der erro\n    }\n  };\n\n  // Função para rejeitar orçamento\n  const handleRejeitar = async () => {\n    // Definir submitting imediatamente para evitar qualquer renderização\n    setSubmitting(true);\n    \n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://192.168.1.120:5000/api/orcamentos/${orcamento?.id}/rejeitar`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ observacao: obsRejeicao || '' })\n      });\n\n      if (response.ok) {\n        alert('Orçamento rejeitado com sucesso!');\n        // Redirecionar usando navigate para manter autenticação\n        navigate('/dashboard', { replace: true });\n        return;\n      } else {\n        const errorData = await response.json();\n        alert(errorData.error || 'Erro ao rejeitar orçamento');\n        setSubmitting(false); // Só resetar se der erro\n      }\n    } catch (error) {\n      console.error('Erro ao rejeitar orçamento:', error);\n      alert('Erro ao rejeitar orçamento');\n      setSubmitting(false); // Só resetar se der erro\n    }\n  };\n\n  // Função para marcar como comprado\n  const handleMarcarComoComprado = async () => {\n    if (!window.confirm('Tem certeza que deseja marcar este orçamento como comprado?')) {\n      return;\n    }\n    \n    // Definir submitting imediatamente para evitar qualquer renderização\n    setSubmitting(true);\n    \n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://192.168.1.120:5000/api/orcamentos/${orcamento?.id}/comprado`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        alert('Orçamento marcado como comprado com sucesso!');\n        // Redirecionar usando navigate para manter autenticação\n        navigate('/dashboard', { replace: true });\n        return;\n      } else {\n        const errorData = await response.json();\n        alert(errorData.error || 'Erro ao marcar como comprado');\n        setSubmitting(false); // Só resetar se der erro\n      }\n    } catch (error) {\n      console.error('Erro ao marcar como comprado:', error);\n      alert('Erro ao marcar como comprado');\n      setSubmitting(false); // Só resetar se der erro\n    }\n  };\n\n  // Função para dar baixa no orçamento\n  const handleDarBaixa = async () => {\n    if (!window.confirm('Tem certeza que deseja dar baixa neste orçamento? O item chegou?')) {\n      return;\n    }\n    \n    // Definir submitting imediatamente para evitar qualquer renderização\n    setSubmitting(true);\n    \n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://192.168.1.120:5000/api/orcamentos/${orcamento?.id}/baixa`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        alert('Baixa realizada com sucesso! Orçamento finalizado.');\n        // Redirecionar usando navigate para manter autenticação\n        navigate('/dashboard', { replace: true });\n        return;\n      } else {\n        const errorData = await response.json();\n        alert(errorData.error || 'Erro ao dar baixa');\n        setSubmitting(false);\n      }\n    } catch (error) {\n      console.error('Erro ao dar baixa:', error);\n      alert('Erro ao dar baixa no orçamento');\n      setSubmitting(false);\n    }\n  };\n\n  // Se estiver submetendo, não renderizar nada\n  if (submitting) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Processando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Se estiver carregando, mostrar loader\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Carregando orçamento...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!orcamento) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-500\">Orçamento não encontrado</p>\n      </div>\n    );\n  }\n\n  const aprovacoesOrdenadas = [...orcamento.aprovacoes].sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n  const rejeicoesOrdenadas = [...orcamento.rejeicoes].sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <button\n              onClick={() => navigate('/dashboard')}\n              className=\"mr-4 p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100\"\n            >\n              <ArrowLeftIcon className=\"h-5 w-5\" />\n            </button>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Orçamento #{orcamento.id}</h1>\n              <p className=\"mt-1 text-gray-600\">{orcamento.titulo}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(orcamento.status)}`}>\n              {getStatusIcon(orcamento.status)}\n              <span className=\"ml-1\">{orcamento.status}</span>\n            </span>\n            <button className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\n              <EyeIcon className=\"h-4 w-4 mr-2\" />\n              Imprimir\n            </button>\n            {/* Botões de Aprovar/Rejeitar */}\n            {podeAprovarOuRejeitar && (\n              <>\n                <button\n                  className=\"inline-flex items-center px-4 py-2 border border-green-600 text-green-700 bg-green-50 rounded-md shadow-sm text-sm font-medium hover:bg-green-100 ml-2\"\n                  onClick={() => setShowAprovar(true)}\n                  disabled={submitting}\n                >\n                  <CheckCircleIcon className=\"h-4 w-4 mr-2\" /> Aprovar\n                </button>\n                <button\n                  className=\"inline-flex items-center px-4 py-2 border border-red-600 text-red-700 bg-red-50 rounded-md shadow-sm text-sm font-medium hover:bg-red-100 ml-2\"\n                  onClick={() => setShowRejeitar(true)}\n                  disabled={submitting}\n                >\n                  <XCircleIcon className=\"h-4 w-4 mr-2\" /> Rejeitar\n                </button>\n              </>\n            )}\n            {/* Botão Marcar como Compra Efetuada */}\n            {podeMarcarComoComprado && (\n              <button\n                onClick={handleMarcarComoComprado}\n                className=\"inline-flex items-center px-3 py-1 border border-purple-600 text-purple-700 bg-purple-50 rounded-md shadow-sm text-xs font-medium hover:bg-purple-100\"\n              >\n                <ShoppingBagIcon className=\"h-4 w-4 mr-2\" /> Marcar como Compra Efetuada\n              </button>\n            )}\n\n            {/* Botão Dar Baixa */}\n            {podeDarBaixa && (\n              <button\n                className=\"inline-flex items-center px-4 py-2 border border-indigo-600 text-indigo-700 bg-indigo-50 rounded-md shadow-sm text-sm font-medium hover:bg-indigo-100 ml-2\"\n                onClick={handleDarBaixa}\n                disabled={submitting}\n              >\n                <CheckBadgeIcon className=\"h-4 w-4 mr-2\" /> Dar Baixa\n              </button>\n            )}\n\n            {orcamento.solicitante && user && orcamento.solicitante.id === user.id && (\n              <>\n                <button\n                  onClick={() => navigate(`/orcamentos/${orcamento.id}/editar`)}\n                  className=\"text-green-600 hover:text-green-900 p-1\"\n                  title=\"Editar\"\n                >\n                  <PencilIcon className=\"h-4 w-4\" />\n                </button>\n                <button\n                  onClick={async () => {\n                    if (window.confirm('Tem certeza que deseja excluir este orçamento?')) {\n                      // lógica de exclusão\n                    }\n                  }}\n                  className=\"text-red-600 hover:text-red-900 p-1\"\n                  title=\"Excluir\"\n                >\n                  <TrashIcon className=\"h-4 w-4\" />\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      {/* Modais de Aprovação/Rejeição */}\n      {showAprovar && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30\">\n          <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\">\n            <h2 className=\"text-lg font-bold mb-4\">Aprovar Orçamento</h2>\n            <textarea\n              className=\"w-full border rounded p-2 mb-4\"\n              placeholder=\"Observações (opcional)\"\n              value={obsAprovacao}\n              onChange={e => setObsAprovacao(e.target.value)}\n              rows={3}\n            />\n            <div className=\"flex justify-end space-x-2\">\n              <button\n                className=\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\"\n                onClick={() => setShowAprovar(false)}\n                disabled={submitting}\n              >Cancelar</button>\n              <button\n                className=\"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700\"\n                onClick={handleAprovar}\n                disabled={submitting}\n              >Confirmar Aprovação</button>\n            </div>\n          </div>\n        </div>\n      )}\n      {showRejeitar && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30\">\n          <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md\">\n            <h2 className=\"text-lg font-bold mb-4\">Rejeitar Orçamento</h2>\n            <input\n              className=\"w-full border rounded p-2 mb-2\"\n              placeholder=\"Motivo da rejeição (obrigatório)\"\n              value={motivoRejeicao}\n              onChange={e => setMotivoRejeicao(e.target.value)}\n            />\n            <textarea\n              className=\"w-full border rounded p-2 mb-4\"\n              placeholder=\"Observações (opcional)\"\n              value={obsRejeicao}\n              onChange={e => setObsRejeicao(e.target.value)}\n              rows={3}\n            />\n            <div className=\"flex justify-end space-x-2\">\n              <button\n                className=\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\"\n                onClick={() => setShowRejeitar(false)}\n                disabled={submitting}\n              >Cancelar</button>\n              <button\n                className=\"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\"\n                onClick={handleRejeitar}\n                disabled={submitting}\n              >Confirmar Rejeição</button>\n            </div>\n          </div>\n        </div>\n      )}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Informações Principais */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Detalhes do Orçamento */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                <DocumentTextIcon className=\"h-5 w-5 mr-2 text-blue-600\" />\n                Detalhes do Orçamento\n              </h3>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Título</label>\n                <p className=\"text-gray-900\">{orcamento.titulo}</p>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descrição</label>\n                <p className=\"text-gray-900 whitespace-pre-wrap\">{orcamento.descricao}</p>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Valor Unitário</label>\n                  <p className=\"text-lg font-semibold text-gray-900\">{formatCurrency(orcamento.valor)}</p>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Quantidade</label>\n                  <p className=\"text-lg font-semibold text-gray-900\">{orcamento.quantidade}</p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Valor Total</label>\n                  <p className=\"text-lg font-semibold text-blue-600\">{formatCurrency(orcamento.valor * orcamento.quantidade)}</p>\n                </div>\n              </div>\n\n              {orcamento.fornecedor && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Fornecedor</label>\n                  <p className=\"text-gray-900\">{orcamento.fornecedor}</p>\n                </div>\n              )}\n\n              {orcamento.observacoes && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Observações</label>\n                  <p className=\"text-gray-900 whitespace-pre-wrap\">{orcamento.observacoes}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Links e Anexos */}\n          {(orcamento.links || orcamento.fotos || orcamento.anexos) && (\n            <div className=\"bg-white rounded-lg shadow\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Links e Anexos</h3>\n              </div>\n              <div className=\"p-6 space-y-4\">\n                {orcamento.links && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n                      <LinkIcon className=\"h-4 w-4 mr-2\" />\n                      Links\n                    </label>\n                    <div className=\"space-y-2\">\n                      {orcamento.links.split(',').map((link, index) => (\n                        <a\n                          key={index}\n                          href={link.trim()}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"block text-blue-600 hover:text-blue-800 underline\"\n                        >\n                          {link.trim()}\n                        </a>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {orcamento.fotos && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n                      <PhotoIcon className=\"h-4 w-4 mr-2\" />\n                      Fotos\n                    </label>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      {orcamento.fotos.split(',').map((foto, index) => {\n                        const fotoUrl = foto.trim();\n                        const isImage = /\\.(jpg|jpeg|png|gif|webp)$/i.test(fotoUrl);\n                        \n                        return (\n                          <div key={index} className=\"relative\">\n                            {isImage ? (\n                              <img\n                                src={`http://localhost:5000${fotoUrl}`}\n                                alt={`Foto ${index + 1}`}\n                                className=\"h-24 w-full object-cover rounded-lg border cursor-pointer hover:opacity-80\"\n                                onClick={() => window.open(`http://localhost:5000${fotoUrl}`, '_blank')}\n                              />\n                            ) : (\n                              <a\n                                href={`http://localhost:5000${fotoUrl}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"block h-24 w-full bg-gray-100 rounded-lg border flex items-center justify-center text-gray-500 hover:bg-gray-200\"\n                              >\n                                <PaperClipIcon className=\"h-8 w-8\" />\n                              </a>\n                            )}\n                            <p className=\"text-xs text-gray-500 mt-1 truncate\">\n                              {fotoUrl.split('/').pop() || `Arquivo ${index + 1}`}\n                            </p>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n\n                {orcamento.anexos && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n                      <PaperClipIcon className=\"h-4 w-4 mr-2\" />\n                      Anexos\n                    </label>\n                    <div className=\"space-y-2\">\n                      {orcamento.anexos.split(',').map((anexo, index) => {\n                        const anexoUrl = anexo.trim();\n                        const fileName = anexoUrl.split('/').pop() || `Anexo ${index + 1}`;\n                        const fileExtension = fileName.split('.').pop()?.toLowerCase();\n                        \n                        // Determinar ícone baseado na extensão\n                        const getFileIcon = (ext: string) => {\n                          switch (ext) {\n                            case 'pdf': return '📄';\n                            case 'doc':\n                            case 'docx': return '📝';\n                            case 'xls':\n                            case 'xlsx': return '📊';\n                            case 'txt': return '📄';\n                            case 'zip':\n                            case 'rar': return '📦';\n                            default: return '📎';\n                          }\n                        };\n                        \n                        return (\n                          <a\n                            key={index}\n                            href={`http://localhost:5000${anexoUrl}`}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                          >\n                            <span className=\"text-2xl mr-3\">{getFileIcon(fileExtension || '')}</span>\n                            <div className=\"flex-1\">\n                              <p className=\"text-sm font-medium text-gray-900\">{fileName}</p>\n                              <p className=\"text-xs text-gray-500\">Clique para baixar</p>\n                            </div>\n                            <PaperClipIcon className=\"h-4 w-4 text-gray-400\" />\n                          </a>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Histórico de Aprovações */}\n          {orcamento.aprovacoes.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                  <CheckCircleIcon className=\"h-5 w-5 mr-2 text-green-600\" />\n                  Aprovações\n                </h3>\n              </div>\n              <div className=\"p-6\">\n                <div className=\"space-y-4\">\n                  {aprovacoesOrdenadas.map((aprovacao) => (\n                    <div key={aprovacao.id} className=\"border-l-4 border-green-500 pl-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"font-medium text-gray-900\">{aprovacao.aprovador.nome}</p>\n                          <p className=\"text-sm text-gray-500\">{aprovacao.aprovador.email}</p>\n                        </div>\n                        <span className=\"text-sm text-gray-500\">\n                          {new Date(aprovacao.createdAt).toLocaleDateString('pt-BR')} às{' '}\n                          {new Date(aprovacao.createdAt).toLocaleTimeString('pt-BR')}\n                        </span>\n                      </div>\n                      {aprovacao.observacoes && (\n                        <p className=\"mt-2 text-gray-700\">{aprovacao.observacoes}</p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Histórico de Rejeições */}\n          {orcamento.rejeicoes.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                  <XCircleIcon className=\"h-5 w-5 mr-2 text-red-600\" />\n                  Rejeições\n                </h3>\n              </div>\n              <div className=\"p-6\">\n                <div className=\"space-y-4\">\n                  {rejeicoesOrdenadas.map((rejeicao) => (\n                    <div key={rejeicao.id} className=\"border-l-4 border-red-500 pl-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"font-medium text-gray-900\">{rejeicao.rejeitador.nome}</p>\n                          <p className=\"text-sm text-gray-500\">{rejeicao.rejeitador.email}</p>\n                        </div>\n                        <span className=\"text-sm text-gray-500\">\n                          {new Date(rejeicao.createdAt).toLocaleDateString('pt-BR')} às{' '}\n                          {new Date(rejeicao.createdAt).toLocaleTimeString('pt-BR')}\n                        </span>\n                      </div>\n                      <p className=\"mt-1 text-sm font-medium text-red-600\">Motivo: {rejeicao.motivo}</p>\n                      {rejeicao.observacoes && (\n                        <p className=\"mt-2 text-gray-700\">{rejeicao.observacoes}</p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Histórico Completo de Datas e Horários */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                <ClockIcon className=\"h-5 w-5 mr-2 text-blue-600\" />\n                Histórico Completo\n              </h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-4\">\n                {/* Data de Criação */}\n                <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-3 h-3 bg-blue-500 rounded-full mr-3\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900\">Orçamento Criado</p>\n                      <p className=\"text-sm text-gray-500\">por {orcamento.solicitante.nome}</p>\n                    </div>\n                  </div>\n                  <span className=\"text-sm text-gray-500\">\n                    {new Date(orcamento.createdAt).toLocaleDateString('pt-BR')} às{' '}\n                    {new Date(orcamento.createdAt).toLocaleTimeString('pt-BR')}\n                  </span>\n                </div>\n\n                {/* Aprovações */}\n                {aprovacoesOrdenadas.map((aprovacao, index) => (\n                  <div key={aprovacao.id} className=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-3 h-3 bg-green-500 rounded-full mr-3\"></div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">Aprovado pelo Nível {index + 1}</p>\n                        <p className=\"text-sm text-gray-500\">por {aprovacao.aprovador.nome} ({aprovacao.aprovador.email})</p>\n                      </div>\n                    </div>\n                    <span className=\"text-sm text-gray-500\">\n                      {new Date(aprovacao.createdAt).toLocaleDateString('pt-BR')} às{' '}\n                      {new Date(aprovacao.createdAt).toLocaleTimeString('pt-BR')}\n                    </span>\n                  </div>\n                ))}\n\n                {/* Rejeições */}\n                {rejeicoesOrdenadas.map((rejeicao) => (\n                  <div key={rejeicao.id} className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-3 h-3 bg-red-500 rounded-full mr-3\"></div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">Rejeitado</p>\n                        <p className=\"text-sm text-gray-500\">por {rejeicao.rejeitador.nome} ({rejeicao.rejeitador.email})</p>\n                        <p className=\"text-sm text-gray-600\">Motivo: {rejeicao.motivo}</p>\n                      </div>\n                    </div>\n                    <span className=\"text-sm text-gray-500\">\n                      {new Date(rejeicao.createdAt).toLocaleDateString('pt-BR')} às{' '}\n                      {new Date(rejeicao.createdAt).toLocaleTimeString('pt-BR')}\n                    </span>\n                  </div>\n                ))}\n\n                {/* Data de Compra */}\n                {orcamento.dataCompra && (\n                  <div className=\"flex items-center justify-between p-3 bg-purple-50 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-3 h-3 bg-purple-500 rounded-full mr-3\"></div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">Marcado como Comprado</p>\n                        <p className=\"text-sm text-gray-500\">Compra efetuada pelo comprador</p>\n                      </div>\n                    </div>\n                    <span className=\"text-sm text-gray-500\">\n                      {new Date(orcamento.dataCompra).toLocaleDateString('pt-BR')} às{' '}\n                      {new Date(orcamento.dataCompra).toLocaleTimeString('pt-BR')}\n                    </span>\n                  </div>\n                )}\n\n                {/* Data de Baixa */}\n                {orcamento.dataBaixa && (\n                  <div className=\"flex items-center justify-between p-3 bg-indigo-50 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-3 h-3 bg-indigo-500 rounded-full mr-3\"></div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">Baixa Efetuada</p>\n                        <p className=\"text-sm text-gray-500\">Orçamento finalizado</p>\n                      </div>\n                    </div>\n                    <span className=\"text-sm text-gray-500\">\n                      {new Date(orcamento.dataBaixa).toLocaleDateString('pt-BR')} às{' '}\n                      {new Date(orcamento.dataBaixa).toLocaleTimeString('pt-BR')}\n                    </span>\n                  </div>\n                )}\n\n                {/* Status Atual */}\n                <div className=\"flex items-center justify-between p-3 bg-gray-100 rounded-lg\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-3 h-3 bg-gray-500 rounded-full mr-3\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900\">Status Atual</p>\n                      <p className=\"text-sm text-gray-500\">{getStatusText(orcamento.status)}</p>\n                    </div>\n                  </div>\n                  <span className=\"text-sm text-gray-500\">\n                    Última atualização: {new Date(orcamento.updatedAt).toLocaleDateString('pt-BR')} às{' '}\n                    {new Date(orcamento.updatedAt).toLocaleTimeString('pt-BR')}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Informações do Solicitante */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                <UserIcon className=\"h-5 w-5 mr-2 text-blue-600\" />\n                Solicitante\n              </h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Nome</label>\n                  <p className=\"text-gray-900\">{orcamento.solicitante.nome}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Email</label>\n                  <p className=\"text-gray-900\">{orcamento.solicitante.email}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Cargo</label>\n                  <p className=\"text-gray-900\">{orcamento.solicitante.cargo}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Setor</label>\n                  <p className=\"text-gray-900\">{orcamento.solicitante.setor}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Informações do Nível */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                <ChartBarIcon className=\"h-5 w-5 mr-2 text-green-600\" />\n                Nível de Aprovação\n              </h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Nível Atual</label>\n                  <p className=\"text-gray-900\">{orcamento.nivelAtual.nome}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Prioridade</label>\n                  <p className=\"text-gray-900\">{orcamento.nivelAtual.prioridade}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Informações da Filial */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\n                <BuildingOfficeIcon className=\"h-5 w-5 mr-2 text-purple-600\" />\n                Filial\n              </h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Nome</label>\n                  <p className=\"text-gray-900\">{orcamento.filial.nome}</p>\n                </div>\n                {orcamento.filial.endereco && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Endereço</label>\n                    <p className=\"text-gray-900\">{orcamento.filial.endereco}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Informações de Data */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Datas</h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Criado em</label>\n                  <p className=\"text-gray-900\">\n                    {new Date(orcamento.createdAt).toLocaleDateString('pt-BR')} às{' '}\n                    {new Date(orcamento.createdAt).toLocaleTimeString('pt-BR')}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Última atualização</label>\n                  <p className=\"text-gray-900\">\n                    {new Date(orcamento.updatedAt).toLocaleDateString('pt-BR')} às{' '}\n                    {new Date(orcamento.updatedAt).toLocaleTimeString('pt-BR')}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrcamentoDetalhes; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}